{
  "hash": "b883487636762a38890acf38f0b81b3d",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Advanced Machine Learning with Python (Session 2)\nauthor: Fernando Cervantes (fernando.cervantes@jax.org)\nformat:\n  revealjs:\n    code-fold: false\n    progress: true\n    controls: true\n    output-file: \"Adv_ML_Python_presentation_2\"\n    fontsize: 20pt\n    include-in-header:\n      text: |\n        <link href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css\" rel =\"stylesheet\" integrity=\"sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==\" crossorigin=\"anonymous\">\n\nexecute:\n  error: true\n  echo: true\n  cache: true\n  freeze: true\n  keep-ipynb: true\n\njupyter: python3\n---\n\n\n# Install packages\n\n::: {#32770a07 .cell execution_count=1}\n``` {.python .cell-code}\n!pip install s3fs imagecodecs umap-learn\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 293, in run\n    logger.verbose(\"Using %s\", get_pip_version())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/_log.py\", line 23, in verbose\n    return self.log(VERBOSE, msg, *args, **kwargs)\nMessage: 'Using %s'\nArguments: ('pip 24.1.2 from /usr/local/lib/python3.12/dist-packages/pip (python 3.12)',)\nDefaulting to user installation because normal site-packages is not writeable\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 294, in run\n    options.use_user_site = decide_user_install(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 716, in decide_user_install\n    logger.info(\nMessage: 'Defaulting to user installation because normal site-packages is not writeable'\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 333, in run\n    build_tracker = self.enter_context(get_build_tracker())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/command_context.py\", line 27, in enter_context\n    return self._main_context.enter_context(context_provider)\n  File \"/usr/lib/python3.12/contextlib.py\", line 526, in enter_context\n    result = _enter(cm)\n  File \"/usr/lib/python3.12/contextlib.py\", line 137, in __enter__\n    return next(self.gen)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 45, in get_build_tracker\n    root = ctx.enter_context(TempDirectory(kind=\"build-tracker\")).path\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 137, in __init__\n    path = self._create(kind)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 178, in _create\n    logger.debug(\"Created temporary directory: %s\", path)\nMessage: 'Created temporary directory: %s'\nArguments: ('/tmp/pip-build-tracker-ihu6eb30',)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 333, in run\n    build_tracker = self.enter_context(get_build_tracker())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/command_context.py\", line 27, in enter_context\n    return self._main_context.enter_context(context_provider)\n  File \"/usr/lib/python3.12/contextlib.py\", line 526, in enter_context\n    result = _enter(cm)\n  File \"/usr/lib/python3.12/contextlib.py\", line 137, in __enter__\n    return next(self.gen)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 47, in get_build_tracker\n    logger.debug(\"Initialized build tracking at %s\", root)\nMessage: 'Initialized build tracking at %s'\nArguments: ('/tmp/pip-build-tracker-ihu6eb30',)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 333, in run\n    build_tracker = self.enter_context(get_build_tracker())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/command_context.py\", line 27, in enter_context\n    return self._main_context.enter_context(context_provider)\n  File \"/usr/lib/python3.12/contextlib.py\", line 526, in enter_context\n    result = _enter(cm)\n  File \"/usr/lib/python3.12/contextlib.py\", line 137, in __enter__\n    return next(self.gen)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 49, in get_build_tracker\n    with BuildTracker(root) as tracker:\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 69, in __init__\n    logger.debug(\"Created build tracker: %s\", self._root)\nMessage: 'Created build tracker: %s'\nArguments: ('/tmp/pip-build-tracker-ihu6eb30',)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 333, in run\n    build_tracker = self.enter_context(get_build_tracker())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/command_context.py\", line 27, in enter_context\n    return self._main_context.enter_context(context_provider)\n  File \"/usr/lib/python3.12/contextlib.py\", line 526, in enter_context\n    result = _enter(cm)\n  File \"/usr/lib/python3.12/contextlib.py\", line 137, in __enter__\n    return next(self.gen)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 49, in get_build_tracker\n    with BuildTracker(root) as tracker:\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 72, in __enter__\n    logger.debug(\"Entered build tracker: %s\", self._root)\nMessage: 'Entered build tracker: %s'\nArguments: ('/tmp/pip-build-tracker-ihu6eb30',)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 335, in run\n    directory = TempDirectory(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 137, in __init__\n    path = self._create(kind)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 178, in _create\n    logger.debug(\"Created temporary directory: %s\", path)\nMessage: 'Created temporary directory: %s'\nArguments: ('/tmp/pip-install-sl_p852w',)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 345, in run\n    wheel_cache = WheelCache(options.cache_dir)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cache.py\", line 218, in __init__\n    self._ephem_cache = EphemWheelCache()\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cache.py\", line 176, in __init__\n    self._temp_dir = TempDirectory(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 137, in __init__\n    path = self._create(kind)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 178, in _create\n    logger.debug(\"Created temporary directory: %s\", path)\nMessage: 'Created temporary directory: %s'\nArguments: ('/tmp/pip-ephem-wheel-cache-gymkrqej',)\nRequirement already satisfied: s3fs in /home/cervaf/.local/lib/python3.12/site-packages (2025.10.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 's3fs'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 397, in resolve\n    self._add_to_criteria(self.state.criteria, r, parent=None)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: s3fs in /home/cervaf/.local/lib/python3.12/site-packages editable=False>, <Version('2025.10.0')>)\nRequirement already satisfied: imagecodecs in /home/cervaf/.local/lib/python3.12/site-packages (2025.11.11)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'imagecodecs'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 397, in resolve\n    self._add_to_criteria(self.state.criteria, r, parent=None)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: imagecodecs in /home/cervaf/.local/lib/python3.12/site-packages editable=False>, <Version('2025.11.11')>)\nRequirement already satisfied: umap-learn in /usr/local/lib/python3.12/dist-packages (0.5.9.post2)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'umap-learn'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 397, in resolve\n    self._add_to_criteria(self.state.criteria, r, parent=None)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: umap-learn in /usr/local/lib/python3.12/dist-packages editable=False>, <Version('0.5.9.post2')>)\nRequirement already satisfied: aiobotocore<3.0.0,>=2.5.4 in /home/cervaf/.local/lib/python3.12/site-packages (from s3fs) (2.25.2)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'aiobotocore'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: aiobotocore<3.0.0,>=2.5.4 in /home/cervaf/.local/lib/python3.12/site-packages (from s3fs) editable=False>, <Version('2.25.2')>)\nRequirement already satisfied: fsspec==2025.10.0 in /home/cervaf/.local/lib/python3.12/site-packages (from s3fs) (2025.10.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'fsspec'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: fsspec==2025.10.0 in /home/cervaf/.local/lib/python3.12/site-packages (from s3fs) editable=False>, <Version('2025.10.0')>)\nRequirement already satisfied: aiohttp!=4.0.0a0,!=4.0.0a1 in /usr/local/lib/python3.12/dist-packages (from s3fs) (3.13.1)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'aiohttp'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: aiohttp!=4.0.0a0,!=4.0.0a1 in /usr/local/lib/python3.12/dist-packages (from s3fs) editable=False>, <Version('3.13.1')>)\nRequirement already satisfied: numpy in /usr/local/lib/python3.12/dist-packages (from imagecodecs) (2.0.2)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'numpy'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: numpy in /usr/local/lib/python3.12/dist-packages (from imagecodecs) editable=False>, <Version('2.0.2')>)\nRequirement already satisfied: scipy>=1.3.1 in /usr/local/lib/python3.12/dist-packages (from umap-learn) (1.16.2)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'scipy'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: scipy>=1.3.1 in /usr/local/lib/python3.12/dist-packages (from umap-learn) editable=False>, <Version('1.16.2')>)\nRequirement already satisfied: scikit-learn>=1.6 in /usr/local/lib/python3.12/dist-packages (from umap-learn) (1.6.1)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'scikit-learn'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: scikit-learn>=1.6 in /usr/local/lib/python3.12/dist-packages (from umap-learn) editable=False>, <Version('1.6.1')>)\nRequirement already satisfied: numba>=0.51.2 in /usr/local/lib/python3.12/dist-packages (from umap-learn) (0.60.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'numba'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: numba>=0.51.2 in /usr/local/lib/python3.12/dist-packages (from umap-learn) editable=False>, <Version('0.60.0')>)\nRequirement already satisfied: pynndescent>=0.5 in /usr/local/lib/python3.12/dist-packages (from umap-learn) (0.5.13)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'pynndescent'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: pynndescent>=0.5 in /usr/local/lib/python3.12/dist-packages (from umap-learn) editable=False>, <Version('0.5.13')>)\nRequirement already satisfied: tqdm in /usr/local/lib/python3.12/dist-packages (from umap-learn) (4.67.1)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'tqdm'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: tqdm in /usr/local/lib/python3.12/dist-packages (from umap-learn) editable=False>, <Version('4.67.1')>)\nRequirement already satisfied: aioitertools<1.0.0,>=0.5.1 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (0.13.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'aioitertools'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: aioitertools<1.0.0,>=0.5.1 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('0.13.0')>)\nRequirement already satisfied: botocore<1.40.71,>=1.40.46 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (1.40.70)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'botocore'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: botocore<1.40.71,>=1.40.46 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('1.40.70')>)\nRequirement already satisfied: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.12/dist-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (2.9.0.post0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'python-dateutil'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.12/dist-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('2.9.0.post0')>)\nRequirement already satisfied: jmespath<2.0.0,>=0.7.1 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (1.0.1)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'jmespath'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: jmespath<2.0.0,>=0.7.1 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('1.0.1')>)\nRequirement already satisfied: multidict<7.0.0,>=6.0.0 in /usr/local/lib/python3.12/dist-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (6.7.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'multidict'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: multidict<7.0.0,>=6.0.0 in /usr/local/lib/python3.12/dist-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('6.7.0')>)\nRequirement already satisfied: wrapt<2.0.0,>=1.10.10 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (1.17.3)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'wrapt'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: wrapt<2.0.0,>=1.10.10 in /home/cervaf/.local/lib/python3.12/site-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('1.17.3')>)\nRequirement already satisfied: aiohappyeyeballs>=2.5.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (2.6.1)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'aiohappyeyeballs'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: aiohappyeyeballs>=2.5.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('2.6.1')>)\nRequirement already satisfied: aiosignal>=1.4.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (1.4.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'aiosignal'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: aiosignal>=1.4.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('1.4.0')>)\nRequirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (25.4.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'attrs'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: attrs>=17.3.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('25.4.0')>)\nRequirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (1.8.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'frozenlist'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: frozenlist>=1.1.1 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('1.8.0')>)\nRequirement already satisfied: propcache>=0.2.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (0.4.1)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'propcache'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: propcache>=0.2.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('0.4.1')>)\nRequirement already satisfied: yarl<2.0,>=1.17.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (1.22.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'yarl'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: yarl<2.0,>=1.17.0 in /usr/local/lib/python3.12/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('1.22.0')>)\nRequirement already satisfied: llvmlite<0.44,>=0.43.0dev0 in /usr/local/lib/python3.12/dist-packages (from numba>=0.51.2->umap-learn) (0.43.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'llvmlite'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: llvmlite<0.44,>=0.43.0dev0 in /usr/local/lib/python3.12/dist-packages (from numba>=0.51.2->umap-learn) editable=False>, <Version('0.43.0')>)\nRequirement already satisfied: joblib>=0.11 in /usr/local/lib/python3.12/dist-packages (from pynndescent>=0.5->umap-learn) (1.5.2)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'joblib'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: joblib>=0.11 in /usr/local/lib/python3.12/dist-packages (from pynndescent>=0.5->umap-learn) editable=False>, <Version('1.5.2')>)\nRequirement already satisfied: threadpoolctl>=3.1.0 in /usr/local/lib/python3.12/dist-packages (from scikit-learn>=1.6->umap-learn) (3.6.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'threadpoolctl'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: threadpoolctl>=3.1.0 in /usr/local/lib/python3.12/dist-packages (from scikit-learn>=1.6->umap-learn) editable=False>, <Version('3.6.0')>)\nRequirement already satisfied: typing-extensions>=4.2 in /usr/local/lib/python3.12/dist-packages (from aiosignal>=1.4.0->aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (4.15.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'typing-extensions'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: typing-extensions>=4.2 in /usr/local/lib/python3.12/dist-packages (from aiosignal>=1.4.0->aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('4.15.0')>)\nRequirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /usr/local/lib/python3.12/dist-packages (from botocore<1.40.71,>=1.40.46->aiobotocore<3.0.0,>=2.5.4->s3fs) (2.5.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'urllib3'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: urllib3!=2.2.0,<3,>=1.25.4 in /usr/local/lib/python3.12/dist-packages (from botocore<1.40.71,>=1.40.46->aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('2.5.0')>)\nRequirement already satisfied: six>=1.5 in /usr/local/lib/python3.12/dist-packages (from python-dateutil<3.0.0,>=2.1->aiobotocore<3.0.0,>=2.5.4->s3fs) (1.17.0)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'six'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: six>=1.5 in /usr/local/lib/python3.12/dist-packages (from python-dateutil<3.0.0,>=2.1->aiobotocore<3.0.0,>=2.5.4->s3fs) editable=False>, <Version('1.17.0')>)\nRequirement already satisfied: idna>=2.0 in /usr/local/lib/python3.12/dist-packages (from yarl<2.0,>=1.17.0->aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (3.11)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 169, in _make_candidate_from_dist\n    base = self._installed_candidate_cache[dist.canonical_name]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\nKeyError: 'idna'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_vendor/resolvelib/resolvers.py\", line 148, in _add_to_criteria\n    matches = self._p.find_matches(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/provider.py\", line 232, in find_matches\n    return self._factory.find_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 450, in find_candidates\n    return self._iter_found_candidates(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 341, in _iter_found_candidates\n    _get_installed_candidate(),\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 289, in _get_installed_candidate\n    candidate = self._make_candidate_from_dist(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/factory.py\", line 171, in _make_candidate_from_dist\n    base = AlreadyInstalledCandidate(dist, template, factory=self)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/candidates.py\", line 361, in __init__\n    factory.preparer.prepare_installed_requirement(self._ireq, skip_reason)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 721, in prepare_installed_requirement\n    logger.info(\nMessage: 'Requirement %s: %s (%s)'\nArguments: ('already satisfied', <InstallRequirement object: idna>=2.0 in /usr/local/lib/python3.12/dist-packages (from yarl<2.0,>=1.17.0->aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) editable=False>, <Version('3.11')>)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 100, in main\n    return self._main(args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 232, in _main\n    return run(options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 179, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/commands/install.py\", line 377, in run\n    requirement_set = resolver.resolve(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/resolution/resolvelib/resolver.py\", line 179, in resolve\n    self.factory.preparer.prepare_linked_requirements_more(reqs)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 554, in prepare_linked_requirements_more\n    self._complete_partial_requirements(\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/prepare.py\", line 455, in _complete_partial_requirements\n    temp_dir = TempDirectory(kind=\"unpack\", globally_managed=True).path\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 137, in __init__\n    path = self._create(kind)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/temp_dir.py\", line 178, in _create\n    logger.debug(\"Created temporary directory: %s\", path)\nMessage: 'Created temporary directory: %s'\nArguments: ('/tmp/pip-unpack-9ngfw58_',)\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/handlers.py\", line 191, in shouldRollover\n    self.stream = self._open()\n                  ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/utils/logging.py\", line 203, in _open\n    return super()._open()\n           ^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/logging/__init__.py\", line 1263, in _open\n    return open_func(self.baseFilename, self.mode,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nPermissionError: [Errno 13] Permission denied: '/var/log/pip.log'\nCall stack:\n  File \"/usr/local/bin/pip3\", line 10, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/main.py\", line 80, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/base_command.py\", line 99, in main\n    with self.main_context():\n  File \"/usr/lib/python3.12/contextlib.py\", line 144, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/cli/command_context.py\", line 19, in main_context\n    with self._main_context:\n  File \"/usr/lib/python3.12/contextlib.py\", line 595, in __exit__\n    if cb(*exc_details):\n  File \"/usr/lib/python3.12/contextlib.py\", line 144, in __exit__\n    next(self.gen)\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 49, in get_build_tracker\n    with BuildTracker(root) as tracker:\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 81, in __exit__\n    self.cleanup()\n  File \"/usr/local/lib/python3.12/dist-packages/pip/_internal/operations/build/build_tracker.py\", line 127, in cleanup\n    logger.debug(\"Removed build tracker: %r\", self._root)\nMessage: 'Removed build tracker: %r'\nArguments: ('/tmp/pip-build-tracker-ihu6eb30',)\n```\n:::\n:::\n\n\n::: {#fe3a251d .cell execution_count=2}\n``` {.python .cell-code}\n!git clone https://github.com/jump-cellpainting/JUMP-Target\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nfatal: destination path 'JUMP-Target' already exists and is not an empty directory.\n```\n:::\n:::\n\n\n::: {#db1bfe30 .cell execution_count=3}\n``` {.python .cell-code}\n!git clone https://github.com/jump-cellpainting/datasets.git\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nfatal: destination path 'datasets' already exists and is not an empty directory.\n```\n:::\n:::\n\n\n## Review the `metadata` of the `cpg0016-jump` dataset {.scrollable}\n\n- [ ] Load the plate-level metadata from the `jump-cellpainting/datasets` repository\n\n::: {#5f88ea6c .cell execution_count=4}\n``` {.python .cell-code}\nimport pandas as pd\n```\n:::\n\n\n::: {#6c901e47 .cell execution_count=5}\n``` {.python .cell-code}\njump_plates_metadata = pd.read_csv(\"datasets/metadata/plate.csv.gz\")\njump_plates_metadata[\"Metadata_PlateType\"].unique()\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\narray(['COMPOUND_EMPTY', 'COMPOUND', 'DMSO', 'TARGET2', 'CRISPR', 'ORF',\n       'TARGET1', 'POSCON8'], dtype=object)\n```\n:::\n:::\n\n\n- [ ] Inspect the structure of the database\n\n::: {#c29b5b4c .cell execution_count=6}\n``` {.python .cell-code}\njump_plates_metadata.groupby([\"Metadata_Source\", \"Metadata_Batch\"]).describe()\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```{=html}\n\n  <div id=\"df-1b77dde7-4c73-4fab-ba70-f1b57370d91b\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead tr th {\n        text-align: left;\n    }\n\n    .dataframe thead tr:last-of-type th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr>\n      <th></th>\n      <th></th>\n      <th colspan=\"4\" halign=\"left\">Metadata_Plate</th>\n      <th colspan=\"4\" halign=\"left\">Metadata_PlateType</th>\n    </tr>\n    <tr>\n      <th></th>\n      <th></th>\n      <th>count</th>\n      <th>unique</th>\n      <th>top</th>\n      <th>freq</th>\n      <th>count</th>\n      <th>unique</th>\n      <th>top</th>\n      <th>freq</th>\n    </tr>\n    <tr>\n      <th>Metadata_Source</th>\n      <th>Metadata_Batch</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th rowspan=\"5\" valign=\"top\">source_1</th>\n      <th>Batch1_20221004</th>\n      <td>9</td>\n      <td>9</td>\n      <td>UL000109</td>\n      <td>1</td>\n      <td>9</td>\n      <td>2</td>\n      <td>COMPOUND</td>\n      <td>6</td>\n    </tr>\n    <tr>\n      <th>Batch2_20221006</th>\n      <td>7</td>\n      <td>7</td>\n      <td>UL001647</td>\n      <td>1</td>\n      <td>7</td>\n      <td>1</td>\n      <td>COMPOUND</td>\n      <td>7</td>\n    </tr>\n    <tr>\n      <th>Batch3_20221010</th>\n      <td>8</td>\n      <td>8</td>\n      <td>UL000087</td>\n      <td>1</td>\n      <td>8</td>\n      <td>1</td>\n      <td>COMPOUND</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>Batch4_20221012</th>\n      <td>8</td>\n      <td>8</td>\n      <td>UL000081</td>\n      <td>1</td>\n      <td>8</td>\n      <td>1</td>\n      <td>COMPOUND</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>Batch5_20221030</th>\n      <td>11</td>\n      <td>11</td>\n      <td>UL000561</td>\n      <td>1</td>\n      <td>11</td>\n      <td>2</td>\n      <td>COMPOUND</td>\n      <td>10</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th rowspan=\"5\" valign=\"top\">source_9</th>\n      <th>20210918-Run11</th>\n      <td>9</td>\n      <td>9</td>\n      <td>GR00004367</td>\n      <td>1</td>\n      <td>9</td>\n      <td>2</td>\n      <td>COMPOUND</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>20210918-Run12</th>\n      <td>8</td>\n      <td>8</td>\n      <td>GR00004377</td>\n      <td>1</td>\n      <td>8</td>\n      <td>1</td>\n      <td>COMPOUND</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>20211013-Run14</th>\n      <td>13</td>\n      <td>13</td>\n      <td>GR00003279</td>\n      <td>1</td>\n      <td>13</td>\n      <td>2</td>\n      <td>COMPOUND</td>\n      <td>12</td>\n    </tr>\n    <tr>\n      <th>20211102-Run15</th>\n      <td>11</td>\n      <td>11</td>\n      <td>GR00004391</td>\n      <td>1</td>\n      <td>11</td>\n      <td>2</td>\n      <td>COMPOUND</td>\n      <td>10</td>\n    </tr>\n    <tr>\n      <th>20211103-Run16</th>\n      <td>17</td>\n      <td>17</td>\n      <td>GR00004405</td>\n      <td>1</td>\n      <td>17</td>\n      <td>2</td>\n      <td>COMPOUND</td>\n      <td>16</td>\n    </tr>\n  </tbody>\n</table>\n<p>149 rows  8 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1b77dde7-4c73-4fab-ba70-f1b57370d91b')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-1b77dde7-4c73-4fab-ba70-f1b57370d91b button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-1b77dde7-4c73-4fab-ba70-f1b57370d91b');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n---\n\n## Subset the dataset to extract samples with *CRISPR*, *ORF*, and *NONE/DMSO* treatments {.scrollable}\n\n- [ ] Read the *CRISPR* plate maps from the `JUMP-Target` repository\n\n::: {#483e22e9 .cell execution_count=7}\n``` {.python .cell-code}\ncrispr_wells_metadata = pd.read_csv(\"JUMP-Target/JUMP-Target-1_crispr_platemap.tsv\", sep=\"\\t\")\n```\n:::\n\n\n- [ ] Add one column to identify the type of treatment, and other to assign a numeric label (*CRISPR* = 1)\n\n::: {#afdb68f4 .cell execution_count=8}\n``` {.python .cell-code}\ncrispr_wells_metadata[\"Plate_type\"] = \"CRISPR\"\ncrispr_wells_metadata[\"Plate_label\"] = 1\ncrispr_wells_metadata\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n\n  <div id=\"df-47255937-ea48-4b1c-ab4c-2678eb348d25\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>well_position</th>\n      <th>broad_sample</th>\n      <th>Plate_type</th>\n      <th>Plate_label</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>A01</td>\n      <td>BRDN0001480888</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>A02</td>\n      <td>BRDN0001483495</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>A03</td>\n      <td>BRDN0001147364</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>A04</td>\n      <td>BRDN0001490272</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>A05</td>\n      <td>BRDN0001480510</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>379</th>\n      <td>P20</td>\n      <td>BRDN0001145303</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>380</th>\n      <td>P21</td>\n      <td>BRDN0001484228</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>381</th>\n      <td>P22</td>\n      <td>BRDN0001487618</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>382</th>\n      <td>P23</td>\n      <td>BRDN0001487864</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>383</th>\n      <td>P24</td>\n      <td>BRDN0000735603</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n<p>384 rows  4 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-47255937-ea48-4b1c-ab4c-2678eb348d25')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-47255937-ea48-4b1c-ab4c-2678eb348d25 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-47255937-ea48-4b1c-ab4c-2678eb348d25');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n---\n\n## Subset the dataset to extract samples with *CRISPR*, *ORF*, and *NONE/DMSO* treatments {.scrollable}\n\n\n- [ ] Read the *ORF* plate maps from the `JUMP-Target` repository\n\n::: {#59e199bc .cell execution_count=9}\n``` {.python .cell-code}\norf_wells_metadata = pd.read_csv(\"JUMP-Target/JUMP-Target-1_orf_platemap.tsv\", sep=\"\\t\")\n```\n:::\n\n\n- [ ] Add one column to identify the type of treatment, and other to assign a numeric label (*ORF* = 2)\n\n::: {#c7a614e1 .cell execution_count=10}\n``` {.python .cell-code}\norf_wells_metadata[\"Plate_type\"] = \"ORF\"\norf_wells_metadata[\"Plate_label\"] = 2\norf_wells_metadata\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n\n  <div id=\"df-ae4dd41c-a754-4d5a-8f54-ffe96e7e26db\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>well_position</th>\n      <th>broad_sample</th>\n      <th>Plate_type</th>\n      <th>Plate_label</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>A01</td>\n      <td>ccsbBroad304_00900</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>A02</td>\n      <td>ccsbBroad304_07795</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>A03</td>\n      <td>ccsbBroad304_02826</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>A04</td>\n      <td>ccsbBroad304_01492</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>A05</td>\n      <td>ccsbBroad304_00691</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>379</th>\n      <td>P20</td>\n      <td>ccsbBroad304_00277</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>380</th>\n      <td>P21</td>\n      <td>ccsbBroad304_06464</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>381</th>\n      <td>P22</td>\n      <td>ccsbBroad304_00476</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>382</th>\n      <td>P23</td>\n      <td>ccsbBroad304_01649</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>383</th>\n      <td>P24</td>\n      <td>ccsbBroad304_03934</td>\n      <td>ORF</td>\n      <td>2</td>\n    </tr>\n  </tbody>\n</table>\n<p>384 rows  4 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ae4dd41c-a754-4d5a-8f54-ffe96e7e26db')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-ae4dd41c-a754-4d5a-8f54-ffe96e7e26db button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-ae4dd41c-a754-4d5a-8f54-ffe96e7e26db');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n---\n\n- [ ] Read the *COMPOUND* plate maps from the `JUMP-Target` repository\n\n::: {#e640498a .cell execution_count=11}\n``` {.python .cell-code}\ncompound_wells_metadata = pd.read_csv(\"JUMP-Target/JUMP-Target-1_compound_platemap.tsv\", sep=\"\\t\")\n```\n:::\n\n\n- [ ] Add one column to identify the type of treatment, and other to assign a numeric label (*COMPOUND* = 3)\n\n::: {#e29a39eb .cell execution_count=12}\n``` {.python .cell-code}\ncompound_wells_metadata[\"Plate_type\"] = \"COMPOUND\"\ncompound_wells_metadata[\"Plate_label\"] = 3\ncompound_wells_metadata\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n\n  <div id=\"df-83a2fe3c-bc06-4dcc-9137-b928a0faa6ce\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>well_position</th>\n      <th>broad_sample</th>\n      <th>solvent</th>\n      <th>Plate_type</th>\n      <th>Plate_label</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>A01</td>\n      <td>BRD-A86665761-001-01-1</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>A02</td>\n      <td>NaN</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>A03</td>\n      <td>BRD-A22032524-074-09-9</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>A04</td>\n      <td>BRD-A01078468-001-14-8</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>A05</td>\n      <td>BRD-K48278478-001-01-2</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>379</th>\n      <td>P20</td>\n      <td>BRD-K68982262-001-01-4</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>380</th>\n      <td>P21</td>\n      <td>BRD-K24616672-003-20-1</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>381</th>\n      <td>P22</td>\n      <td>BRD-A82396632-008-30-8</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>382</th>\n      <td>P23</td>\n      <td>BRD-K61250553-003-30-6</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>383</th>\n      <td>P24</td>\n      <td>BRD-K70358946-001-17-3</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n  </tbody>\n</table>\n<p>384 rows  5 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-83a2fe3c-bc06-4dcc-9137-b928a0faa6ce')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-83a2fe3c-bc06-4dcc-9137-b928a0faa6ce button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-83a2fe3c-bc06-4dcc-9137-b928a0faa6ce');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n---\n\n- [ ] Concatenate the three tables into a single table\n\n::: {#d12a0c0e .cell execution_count=13}\n``` {.python .cell-code}\nwells_metadata = pd.concat([compound_wells_metadata, orf_wells_metadata, crispr_wells_metadata])\n```\n:::\n\n\n- [ ] Change the label of the well positions that were not treated with any compound (*NONE/DMSO* = 0)\n\n::: {#bbf99bb2 .cell execution_count=14}\n``` {.python .cell-code}\nwells_metadata.loc[wells_metadata[\"broad_sample\"].isna(), \"Plate_label\"] = 0\nwells_metadata\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```{=html}\n\n  <div id=\"df-fc1bb256-8386-44f2-8cba-46234640f549\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>well_position</th>\n      <th>broad_sample</th>\n      <th>solvent</th>\n      <th>Plate_type</th>\n      <th>Plate_label</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>A01</td>\n      <td>BRD-A86665761-001-01-1</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>A02</td>\n      <td>NaN</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>A03</td>\n      <td>BRD-A22032524-074-09-9</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>A04</td>\n      <td>BRD-A01078468-001-14-8</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>A05</td>\n      <td>BRD-K48278478-001-01-2</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>379</th>\n      <td>P20</td>\n      <td>BRDN0001145303</td>\n      <td>NaN</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>380</th>\n      <td>P21</td>\n      <td>BRDN0001484228</td>\n      <td>NaN</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>381</th>\n      <td>P22</td>\n      <td>BRDN0001487618</td>\n      <td>NaN</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>382</th>\n      <td>P23</td>\n      <td>BRDN0001487864</td>\n      <td>NaN</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>383</th>\n      <td>P24</td>\n      <td>BRDN0000735603</td>\n      <td>NaN</td>\n      <td>CRISPR</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n<p>1152 rows  5 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-fc1bb256-8386-44f2-8cba-46234640f549')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-fc1bb256-8386-44f2-8cba-46234640f549 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-fc1bb256-8386-44f2-8cba-46234640f549');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n---\n\n## Get the URL of each assay plate from the S3 bucket {.scrollable}\n\n- [ ] List the plates in the `cellpainting-gallery/cpg0016-jump` bucket\n\n::: {#e4f48359 .cell execution_count=15}\n``` {.python .cell-code}\nimport s3fs\n\nfs = s3fs.S3FileSystem(anon=True)\n\nbatch_names = {}\nplate_paths = {}\nsource_names = {}\nplate_types = {}\n\nfor _, src_row in jump_plates_metadata.groupby([\"Metadata_Source\", \"Metadata_Batch\"]).describe().iterrows():\n    source_name, batch_name = src_row.name\n\n    # Ignore 'source_8' since the naming of the images is not standard\n    if source_name in [\"source_8\"]:\n        continue\n\n    plate_type = src_row[\"Metadata_PlateType\"].top\n\n    for plate_path in fs.ls(f\"cellpainting-gallery/cpg0016-jump/{source_name}/images/{batch_name}/images/\"):\n        plate_path = plate_path.split(\"/\")[-1]\n        if not plate_path:\n            continue\n\n        plate_name = plate_path.split(\"__\")[0]\n\n        source_names[plate_name] = source_name\n        batch_names[plate_name] = batch_name\n        plate_types[plate_name] = plate_type\n        plate_paths[plate_name] = plate_path\n```\n:::\n\n\n---\n\n## Get the URL of each assay plate from the S3 bucket {.scrollable}\n\n- [ ] Create a `pandas` data frame to associate each plate to its location within the S3 bucket\n\n::: {#ec0cb967 .cell execution_count=16}\n``` {.python .cell-code}\nplate_maps = pd.DataFrame()\n\nplate_maps[\"Plate_name\"] = batch_names.keys()\nplate_maps[\"Source_name\"] = plate_maps[\"Plate_name\"].map(source_names)\nplate_maps[\"Batch_name\"] = plate_maps[\"Plate_name\"].map(batch_names)\nplate_maps[\"Plate_type\"] = plate_maps[\"Plate_name\"].map(plate_types)\nplate_maps[\"Plate_path\"] = plate_maps[\"Plate_name\"].map(plate_paths)\n\nplate_maps\n```\n\n::: {.cell-output .cell-output-display execution_count=16}\n```{=html}\n\n  <div id=\"df-6f37a666-b04f-4233-ac67-5fe2f125be10\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Plate_name</th>\n      <th>Source_name</th>\n      <th>Batch_name</th>\n      <th>Plate_type</th>\n      <th>Plate_path</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>UL000109</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL000109__2022-10-05T06_35_06-Measurement1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>UL001641</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001641__2022-10-04T23_16_28-Measurement1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>UL001643</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001643__2022-10-04T18_52_42-Measurement2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>UL001645</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001645__2022-10-05T00_44_11-Measurement1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>UL001651</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001651__2022-10-04T20_20_52-Measurement1</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>2333</th>\n      <td>GR00004417</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004417</td>\n    </tr>\n    <tr>\n      <th>2334</th>\n      <td>GR00004418</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004418</td>\n    </tr>\n    <tr>\n      <th>2335</th>\n      <td>GR00004419</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004419</td>\n    </tr>\n    <tr>\n      <th>2336</th>\n      <td>GR00004420</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004420</td>\n    </tr>\n    <tr>\n      <th>2337</th>\n      <td>GR00004421</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004421</td>\n    </tr>\n  </tbody>\n</table>\n<p>2338 rows  5 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-6f37a666-b04f-4233-ac67-5fe2f125be10')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-6f37a666-b04f-4233-ac67-5fe2f125be10 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-6f37a666-b04f-4233-ac67-5fe2f125be10');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n---\n\n## Subset the data frame to separate perturbation (*CRISPR/ORF/NONE*) plates from *COMPOUND* plates {.scrollable}\n\n- [ ] Subset the *COMPOUND* plates\n\n::: {#68253176 .cell execution_count=17}\n``` {.python .cell-code}\ncomp_plate_maps = plate_maps.query(\"Plate_type=='COMPOUND'\")\ncomp_plate_maps\n```\n\n::: {.cell-output .cell-output-display execution_count=17}\n```{=html}\n\n  <div id=\"df-fe0ff7ef-2a22-4266-8b02-eeeb43b94624\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Plate_name</th>\n      <th>Source_name</th>\n      <th>Batch_name</th>\n      <th>Plate_type</th>\n      <th>Plate_path</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>UL000109</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL000109__2022-10-05T06_35_06-Measurement1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>UL001641</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001641__2022-10-04T23_16_28-Measurement1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>UL001643</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001643__2022-10-04T18_52_42-Measurement2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>UL001645</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001645__2022-10-05T00_44_11-Measurement1</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>UL001651</td>\n      <td>source_1</td>\n      <td>Batch1_20221004</td>\n      <td>COMPOUND</td>\n      <td>UL001651__2022-10-04T20_20_52-Measurement1</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>2333</th>\n      <td>GR00004417</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004417</td>\n    </tr>\n    <tr>\n      <th>2334</th>\n      <td>GR00004418</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004418</td>\n    </tr>\n    <tr>\n      <th>2335</th>\n      <td>GR00004419</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004419</td>\n    </tr>\n    <tr>\n      <th>2336</th>\n      <td>GR00004420</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004420</td>\n    </tr>\n    <tr>\n      <th>2337</th>\n      <td>GR00004421</td>\n      <td>source_9</td>\n      <td>20211103-Run16</td>\n      <td>COMPOUND</td>\n      <td>GR00004421</td>\n    </tr>\n  </tbody>\n</table>\n<p>1905 rows  5 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-fe0ff7ef-2a22-4266-8b02-eeeb43b94624')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-fe0ff7ef-2a22-4266-8b02-eeeb43b94624 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-fe0ff7ef-2a22-4266-8b02-eeeb43b94624');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n- [ ] Subset the *CRISPR/ORF/DMSO* plates\n\n::: {#4b7015f5 .cell execution_count=18}\n``` {.python .cell-code}\npert_plate_maps = plate_maps[plate_maps[\"Plate_type\"].isin([\"CRISPR\", \"ORF\", \"DMSO\"])]\npert_plate_maps\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```{=html}\n\n  <div id=\"df-bd24362c-6c37-4ea9-a936-9c5591cf0161\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Plate_name</th>\n      <th>Source_name</th>\n      <th>Batch_name</th>\n      <th>Plate_type</th>\n      <th>Plate_path</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>142</th>\n      <td>Dest210628-161651</td>\n      <td>source_10</td>\n      <td>2021_06_28_U2OS_48_hr_run9</td>\n      <td>DMSO</td>\n      <td>Dest210628-161651</td>\n    </tr>\n    <tr>\n      <th>143</th>\n      <td>Dest210628-162003</td>\n      <td>source_10</td>\n      <td>2021_06_28_U2OS_48_hr_run9</td>\n      <td>DMSO</td>\n      <td>Dest210628-162003</td>\n    </tr>\n    <tr>\n      <th>457</th>\n      <td>CP-CC9-R1-01</td>\n      <td>source_13</td>\n      <td>20220914_Run1</td>\n      <td>CRISPR</td>\n      <td>CP-CC9-R1-01</td>\n    </tr>\n    <tr>\n      <th>458</th>\n      <td>CP-CC9-R1-02</td>\n      <td>source_13</td>\n      <td>20220914_Run1</td>\n      <td>CRISPR</td>\n      <td>CP-CC9-R1-02</td>\n    </tr>\n    <tr>\n      <th>459</th>\n      <td>CP-CC9-R1-03</td>\n      <td>source_13</td>\n      <td>20220914_Run1</td>\n      <td>CRISPR</td>\n      <td>CP-CC9-R1-03</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>1591</th>\n      <td>BR00127145</td>\n      <td>source_4</td>\n      <td>2021_08_30_Batch13</td>\n      <td>ORF</td>\n      <td>BR00127145__2021-09-22T04_01_46-Measurement1</td>\n    </tr>\n    <tr>\n      <th>1592</th>\n      <td>BR00127146</td>\n      <td>source_4</td>\n      <td>2021_08_30_Batch13</td>\n      <td>ORF</td>\n      <td>BR00127146__2021-09-22T12_25_07-Measurement1</td>\n    </tr>\n    <tr>\n      <th>1593</th>\n      <td>BR00127147</td>\n      <td>source_4</td>\n      <td>2021_08_30_Batch13</td>\n      <td>ORF</td>\n      <td>BR00127147__2021-09-18T10_27_12-Measurement1</td>\n    </tr>\n    <tr>\n      <th>1594</th>\n      <td>BR00127148</td>\n      <td>source_4</td>\n      <td>2021_08_30_Batch13</td>\n      <td>ORF</td>\n      <td>BR00127148__2021-09-21T11_44_23-Measurement1</td>\n    </tr>\n    <tr>\n      <th>1595</th>\n      <td>BR00127149</td>\n      <td>source_4</td>\n      <td>2021_08_30_Batch13</td>\n      <td>ORF</td>\n      <td>BR00127149__2021-09-18T02_10_04-Measurement1</td>\n    </tr>\n  </tbody>\n</table>\n<p>433 rows  5 columns</p>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-bd24362c-6c37-4ea9-a936-9c5591cf0161')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-bd24362c-6c37-4ea9-a936-9c5591cf0161 button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-bd24362c-6c37-4ea9-a936-9c5591cf0161');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n# Create a pipeline for loading images from the `cellpainting-gallery` storage\n\n## Split the perturbation plates into Training, Validation, and Test sets {.scrollable}\n\nWe'll separate the plates in each batch into the three sets to have batch-level effects in each of the sets\n\n- [ ] Assign $70$ % of plates for training, $20$ % for validation, and $10$ % for testing\n\n::: {#165b8534 .cell execution_count=19}\n``` {.python .cell-code}\nimport random\nimport math\n```\n:::\n\n\n::: {#95ccc746 .cell execution_count=20}\n``` {.python .cell-code}\ntrn_plates = []\nval_plates = []\ntst_plates = []\n\ntrn_proportion = 0.7\nval_proportion = 0.2\ntst_proportion = 0.1\n\nfor batch_name in pert_plate_maps[\"Batch_name\"].unique():\n    plate_names = pert_plate_maps.query(f\"Batch_name == '{batch_name}'\")[\"Plate_name\"].tolist()\n    random.shuffle(plate_names)\n\n    tst_plates_count = int(math.ceil(len(plate_names) * tst_proportion))\n    val_plates_count = int(math.ceil(len(plate_names) * val_proportion))\n\n    tst_plates += plate_names[:tst_plates_count]\n    val_plates += plate_names[tst_plates_count:tst_plates_count + val_plates_count]\n    trn_plates += plate_names[tst_plates_count + val_plates_count:]\n```\n:::\n\n\n::: {#907ab0a6 .cell execution_count=21}\n``` {.python .cell-code}\nprint(\"Training set size:\", len(trn_plates))\nprint(\"Validation set size:\", len(val_plates))\nprint(\"Testing set size:\", len(tst_plates))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTraining set size: 283\nValidation set size: 96\nTesting set size: 54\n```\n:::\n:::\n\n\n---\n\n## Create a PyTorch Dataset to load images from S3 storage {.scrollable}\n\nDefining a custom PyTorch dataset allows us to access the image data from S3 storage, even if it is not in a standard format across the distinct sources inside the database.\nMoreover, it is completely iterative, so no additional storage is used as the images are analyzed *on the fly*.\n\n::: {#2b861bbb .cell execution_count=22}\n``` {.python .cell-code}\n# @title Definition of a Dataset class capable to pull images from S3 buckets\nimport random\nimport numpy as np\nimport string\nimport s3fs\n\nfrom itertools import product\n\nfrom PIL import Image\nimport tifffile\n\nfrom torch.utils.data import IterableDataset, get_worker_info\n```\n:::\n\n\n- [ ] Define a function to load an image from the `cellpainting-gallery` bucket given a *field-well* position from a specific *plate*\n\n::: {#f7b5e77e .cell execution_count=23}\n``` {.python .cell-code}\ndef load_well(plate_metadata, well_row, well_col, field_id, channels, s3):\n    # Get the label of the current well\n    curr_well_image = []\n\n    plate_path = \"cellpainting-gallery/cpg0016-jump/\" + plate_metadata[\"Source_name\"] + \"/images/\" + plate_metadata[\"Batch_name\"] + \"/images/\" + plate_metadata[\"Plate_path\"]\n\n    for channel_id in range(channels):\n        if plate_metadata[\"Source_name\"] in [\"source_1\", \"source_3\", \"source_4\", \"source_9\", \"source_11\", \"source_15\"]:\n            image_suffix = f\"Images/r{well_row + 1:02d}c{well_col + 1:02d}f{field_id + 1:02d}p01-ch{channel_id + 1}sk1fk1fl1.tiff\"\n\n        else:\n            if plate_metadata[\"Source_name\"] in [\"source_2\", \"source_5\"]:\n                a_locs = [1, 2, 3, 4, 5]\n            elif plate_metadata[\"Source_name\"] in [\"source_6\", \"source_10\"]:\n                a_locs = [1, 2, 2, 3, 1, 4]\n            elif plate_metadata[\"Source_name\"] in [\"source_7\", \"source_13\"]:\n                a_locs = [1, 1, 2, 3, 4]\n\n            image_suffix = f\"{plate_metadata[\"Plate_name\"]}_{string.ascii_uppercase[well_row]}{well_col + 1:02d}_T0001F{field_id + 1:03d}L01A{a_locs[channel_id]:02d}Z01C{channel_id + 1:02d}.tif\"\n\n        image_url = \"s3://\" + plate_path + \"/\" + image_suffix\n\n        try:\n            with s3.open(image_url, 'rb') as f:\n                curr_image = tifffile.imread(f)\n\n        except FileNotFoundError:\n            print(\"Failed retrieving:\", image_url)\n            return None\n\n        curr_image = curr_image.astype(np.float32)\n        curr_image /= 2 ** 16 - 1\n\n        curr_well_image.append(curr_image)\n\n    curr_well_image = np.array(curr_well_image)\n\n    return curr_well_image\n```\n:::\n\n\n---\n\n## Create a PyTorch Dataset to load images from S3 storage {.scrollable}\n\n- [ ] Define an `IterableDataset` derived class to load images from S3 storage\n\n::: {#d1599d5a .cell execution_count=24}\n``` {.python .cell-code}\nclass TiffS3Dataset(IterableDataset):\n    \"\"\"This dataset could have virtually infinite samples.\n    \"\"\"\n    def __init__(self, plate_maps, wells_metadata, plate_names, well_rows=24, well_cols=16, fields=4, channels=5, shuffle=False):\n        super(TiffS3Dataset).__init__()\n\n        self._plate_maps = plate_maps\n        self._wells_metadata = wells_metadata\n\n        self._plate_names = plate_names\n        self._well_rows = well_rows\n        self._well_cols = well_cols\n        self._fields = fields\n        self._channels = channels\n\n        self._shuffle = shuffle\n\n        self._worker_sel = slice(0, len(plate_names) * self._well_rows * self._well_cols)\n        self._worker_id = 0\n        self._num_workers = 1\n\n        self._s3 = None\n\n    def __iter__(self):\n        # Select the barcodes that correspond to this worker\n        self._s3 = s3fs.S3FileSystem(anon=True)\n\n        self._plate_names = self._plate_names[self._worker_sel]\n\n        well_row_range = range(self._well_rows)\n        well_col_range = range(self._well_cols)\n        fields_range = range(self._fields)\n\n        for plate_name, well_row, well_col, field_id in product(self._plate_names, well_row_range, well_col_range, fields_range):\n            if self._shuffle:\n                plate_name = random.choice(self._plate_names)\n                well_row = random.randrange(self._well_rows)\n                well_col = random.randrange(self._well_cols)\n                field_id = random.randrange(self._fields)\n\n            curr_plate_map = self._plate_maps.query(f\"Plate_name == '{plate_name}'\")\n\n            curr_plate_metadata = curr_plate_map.to_dict(orient='records')[0]\n\n            if not len(curr_plate_metadata):\n                continue\n\n            curr_image = load_well(curr_plate_metadata, well_row, well_col, field_id, self._channels, self._s3)\n\n            if curr_image is None:\n                continue\n\n            curr_plate_metadata[\"Well_position\"] = f\"{string.ascii_uppercase[well_row]}{well_col + 1:02d}\"\n\n            curr_image = curr_image[:, :1080, :1080]\n            _, h, w = curr_image.shape\n            pad_h = 1080 - h\n            pad_w = 1080 - w\n\n            if pad_h or pad_w:\n                curr_image = np.pad(curr_image, ((0, 0), (0, pad_h), (0, pad_w)))\n            \n            if curr_plate_metadata[\"Plate_type\"] == \"DMSO\":\n                curr_label = 0\n\n            else:\n                curr_label = self._wells_metadata.query(f\"Plate_type=='{curr_plate_metadata[\"Plate_type\"]}' & well_position=='{string.ascii_uppercase[well_row]}{well_col + 1:02d}'\")[\"Plate_label\"]\n\n                if not len(curr_label):\n                    continue\n\n                curr_label = curr_label.item()\n\n            yield curr_image, curr_label, curr_plate_metadata\n\n        self._s3 = None\n```\n:::\n\n\n---\n\n## Create a PyTorch Dataset to load images from S3 storage {.scrollable}\n\n- [ ] Define an initialization function to separate the load when using *multi-thread* data loading\n\n::: {#a6881210 .cell execution_count=25}\n``` {.python .cell-code}\ndef dataset_worker_init_fn(worker_id):\n    \"\"\"ZarrDataset multithread workers initialization function.\n    \"\"\"\n    worker_info = torch.utils.data.get_worker_info()\n    w_sel = slice(worker_id, None, worker_info.num_workers)\n\n    dataset_obj = worker_info.dataset\n\n    # Reset the random number generators in each worker.\n    torch_seed = torch.initial_seed()\n\n    dataset_obj._worker_sel = w_sel\n    dataset_obj._worker_id = worker_id\n    dataset_obj._num_workers = worker_info.num_workers\n```\n:::\n\n\n---\n\n## Create the different datasets from the plates lists {.scrollable}\n\n- [ ] Instantiate a `TiffS3Dataset` from the plates assigned for training, validation, and testing\n\n::: {#939785da .cell execution_count=26}\n``` {.python .cell-code}\ntraining_ds = TiffS3Dataset(pert_plate_maps, wells_metadata, trn_plates, 16, 24, 9, 5, shuffle=True)\nvalidation_ds = TiffS3Dataset(pert_plate_maps, wells_metadata, val_plates, 16, 24, 9, 5, shuffle=True)\ntesting_ds = TiffS3Dataset(pert_plate_maps, wells_metadata, tst_plates, 16, 24, 9, 5, shuffle=True)\n```\n:::\n\n\n# Compute field-level morphological profiles from perturbation plates\n\nWe'll use a pre-trained deep learning model for image recognition to extract morphological features at field-level.\n\nThis process is usually applied at cell level; however, we'll analyze the data at field-level for simplicity.\n\nThese morphological profiles will be used subsequently to train a *perturbation classifier*.\n\n---\n\n## Import a pre-trained model from `torchvision`\n\nWe'll start with a pre-trained *MobileNet* model for feature extraction since it is lightweight and fast.\nThis in terms of computation resources required to use this model.\n\nIn the literature, more complex models are used, such as Inception V3, DenseNet, or even Vision Transformers.\nHowever, these models require GPU acceleration to be efficiently applied.\n\n- [ ] Load a pre-trained *MobileNet* from the `torchvision` package\n\n::: {#d8d00a5c .cell execution_count=27}\n``` {.python .cell-code}\nfrom torchvision.models import mobilenet_v3_small, MobileNet_V3_Small_Weights\n```\n:::\n\n\n::: {#1f23d2e1 .cell execution_count=28}\n``` {.python .cell-code}\nweights = MobileNet_V3_Small_Weights.DEFAULT\nmodel = mobilenet_v3_small(weights=weights)\n```\n:::\n\n\n---\n\n## Modify the model's architecture to convert it into a feature extraction *function* {.scrollable}\n\n- [ ] Save the original aggregation layer (Average Pooling) and replace it with an `Identity` layer\n\n::: {#9cc453f0 .cell execution_count=29}\n``` {.python .cell-code}\nimport torch\n```\n:::\n\n\n::: {#b10cd410 .cell execution_count=30}\n``` {.python .cell-code}\norg_avgpool = model.avgpool\nmodel.avgpool = torch.nn.Identity()\n```\n:::\n\n\n- [ ] Replace the original `classifier` layer with an `Identity` layer\n\n::: {#b4b5436d .cell execution_count=31}\n``` {.python .cell-code}\nmodel.classifier = torch.nn.Identity()\n```\n:::\n\n\n---\n\n## Modify the model's architecture to convert it into a feature extraction *function* {.scrollable}\n\n- [ ] Set the model into *evaluation* mode. (Optional) Move the model to the GPU if available\n\n::: {#477d97c2 .cell execution_count=32}\n``` {.python .cell-code}\nif torch.cuda.is_available():\n    model.cuda()\n\nmodel.eval()\n```\n\n::: {.cell-output .cell-output-display execution_count=32}\n```\nMobileNetV3(\n  (features): Sequential(\n    (0): Conv2dNormActivation(\n      (0): Conv2d(3, 16, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)\n      (1): BatchNorm2d(16, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n      (2): Hardswish()\n    )\n    (1): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(16, 16, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), groups=16, bias=False)\n          (1): BatchNorm2d(16, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): ReLU(inplace=True)\n        )\n        (1): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(16, 8, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(8, 16, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (2): Conv2dNormActivation(\n          (0): Conv2d(16, 16, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(16, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (2): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(16, 72, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(72, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): ReLU(inplace=True)\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(72, 72, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), groups=72, bias=False)\n          (1): BatchNorm2d(72, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): ReLU(inplace=True)\n        )\n        (2): Conv2dNormActivation(\n          (0): Conv2d(72, 24, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(24, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (3): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(24, 88, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(88, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): ReLU(inplace=True)\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(88, 88, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), groups=88, bias=False)\n          (1): BatchNorm2d(88, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): ReLU(inplace=True)\n        )\n        (2): Conv2dNormActivation(\n          (0): Conv2d(88, 24, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(24, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (4): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(24, 96, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(96, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(96, 96, kernel_size=(5, 5), stride=(2, 2), padding=(2, 2), groups=96, bias=False)\n          (1): BatchNorm2d(96, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(96, 24, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(24, 96, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(96, 40, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(40, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (5): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(40, 240, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(240, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(240, 240, kernel_size=(5, 5), stride=(1, 1), padding=(2, 2), groups=240, bias=False)\n          (1): BatchNorm2d(240, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(240, 64, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(64, 240, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(240, 40, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(40, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (6): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(40, 240, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(240, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(240, 240, kernel_size=(5, 5), stride=(1, 1), padding=(2, 2), groups=240, bias=False)\n          (1): BatchNorm2d(240, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(240, 64, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(64, 240, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(240, 40, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(40, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (7): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(40, 120, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(120, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(120, 120, kernel_size=(5, 5), stride=(1, 1), padding=(2, 2), groups=120, bias=False)\n          (1): BatchNorm2d(120, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(120, 32, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(32, 120, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(120, 48, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(48, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (8): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(48, 144, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(144, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(144, 144, kernel_size=(5, 5), stride=(1, 1), padding=(2, 2), groups=144, bias=False)\n          (1): BatchNorm2d(144, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(144, 40, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(40, 144, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(144, 48, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(48, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (9): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(48, 288, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(288, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(288, 288, kernel_size=(5, 5), stride=(2, 2), padding=(2, 2), groups=288, bias=False)\n          (1): BatchNorm2d(288, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(288, 72, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(72, 288, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(288, 96, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(96, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (10): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(96, 576, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(576, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(576, 576, kernel_size=(5, 5), stride=(1, 1), padding=(2, 2), groups=576, bias=False)\n          (1): BatchNorm2d(576, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(576, 144, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(144, 576, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(576, 96, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(96, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (11): InvertedResidual(\n      (block): Sequential(\n        (0): Conv2dNormActivation(\n          (0): Conv2d(96, 576, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(576, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (1): Conv2dNormActivation(\n          (0): Conv2d(576, 576, kernel_size=(5, 5), stride=(1, 1), padding=(2, 2), groups=576, bias=False)\n          (1): BatchNorm2d(576, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n          (2): Hardswish()\n        )\n        (2): SqueezeExcitation(\n          (avgpool): AdaptiveAvgPool2d(output_size=1)\n          (fc1): Conv2d(576, 144, kernel_size=(1, 1), stride=(1, 1))\n          (fc2): Conv2d(144, 576, kernel_size=(1, 1), stride=(1, 1))\n          (activation): ReLU()\n          (scale_activation): Hardsigmoid()\n        )\n        (3): Conv2dNormActivation(\n          (0): Conv2d(576, 96, kernel_size=(1, 1), stride=(1, 1), bias=False)\n          (1): BatchNorm2d(96, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n        )\n      )\n    )\n    (12): Conv2dNormActivation(\n      (0): Conv2d(96, 576, kernel_size=(1, 1), stride=(1, 1), bias=False)\n      (1): BatchNorm2d(576, eps=0.001, momentum=0.01, affine=True, track_running_stats=True)\n      (2): Hardswish()\n    )\n  )\n  (avgpool): Identity()\n  (classifier): Identity()\n)\n```\n:::\n:::\n\n\n---\n\n## Load the pre-processing transforms form the original model {.scrollable}\n\nWe need to apply the same transforms to the images that we *feed* to the model to have the expected behavior.\n\n- [ ] Get the original transforms pipeline used when the model was originally trained\n\n::: {#df18c6f8 .cell execution_count=33}\n``` {.python .cell-code}\nmodel_transforms = weights.transforms()\nmodel_transforms\n```\n\n::: {.cell-output .cell-output-display execution_count=33}\n```\nImageClassification(\n    crop_size=[224]\n    resize_size=[256]\n    mean=[0.485, 0.456, 0.406]\n    std=[0.229, 0.224, 0.225]\n    interpolation=InterpolationMode.BILINEAR\n)\n```\n:::\n:::\n\n\n---\n\n## Create a PyTorch `DataLoader`\n\nA `DataLoader` takes a `Dataset` (or `IterableDataset`) and serves *mini-batches* of samples that can be used for model training or evaluation.\nIt manages the *mini-batch* collation, and if enabled, the *multi-thread* loading of data.\n\n::: {#9125cbdc .cell execution_count=34}\n``` {.python .cell-code}\nfrom torch.utils.data.dataloader import DataLoader\n```\n:::\n\n\n::: {#07380306 .cell execution_count=35}\n``` {.python .cell-code}\nbatch_size = 10\n\ntraining_dl = DataLoader(training_ds, batch_size=batch_size, num_workers=2, worker_init_fn=dataset_worker_init_fn)\n```\n:::\n\n\n---\n\n## Execute the feature extraction with the deep learning model {.scrollable}\n\n- [ ] Use the *frozen* deep learning model to extract morphological features from the field-level images and create a features database\n\n::: {#431e3bd7 .cell execution_count=36}\n``` {.python .cell-code}\nfrom tqdm.auto import tqdm\n\nfeatures = []\ntargets = []\n\nfor i, (x, y, _) in tqdm(enumerate(training_dl)):\n    b, c, h, w = x.shape\n    x_t = model_transforms(torch.tile(x.reshape(-1, 1, h, w), (1, 3, 1, 1)))\n\n    if torch.cuda.is_available():\n        x_t = x_t.cuda()\n    \n    with torch.no_grad():\n        x_out = model(x_t)\n        x_out = x_out.detach().cpu().reshape(-1, c, 576, 7, 7).sum(dim=1)\n        x_out = org_avgpool(x_out).detach().reshape(b, -1)\n\n    features.append(x_out)\n    targets.append(y)\n\n    # This is for illustration purposes.\n    # We'll load the pre-extracted features from Cloud Storage, so no need to generate it here.\n    break\n\nfeatures = torch.cat(features, dim=0)\ntargets = torch.cat(targets, dim=0)\n\nfeatures.shape, targets.shape\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"484a4637bc704df6847d71f4776810f8\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=36}\n```\n(torch.Size([10, 576]), torch.Size([10]))\n```\n:::\n:::\n\n\n---\n\n## Execute the feature extraction with the deep learning model {.scrollable}\n\n- [ ] Perform the same operation for the **validation** set\n\n::: {#abb23b0e .cell execution_count=37}\n``` {.python .cell-code}\nval_features = []\nval_targets = []\n\nvalidation_dl = DataLoader(validation_ds, batch_size=batch_size, num_workers=2, worker_init_fn=dataset_worker_init_fn)\n\nfor i, (x, y, _) in tqdm(enumerate(validation_dl)):\n    b, c, h, w = x.shape\n    x_t = model_transforms(torch.tile(x.reshape(-1, 1, h, w), (1, 3, 1, 1)))\n\n    if torch.cuda.is_available():\n        x_t = x_t.cuda()\n    \n    with torch.no_grad():\n        x_out = model(x_t)\n        x_out = x_out.detach().reshape(-1, c, 576, 7, 7).sum(dim=1)\n        x_out = org_avgpool(x_out).detach().reshape(b, -1)\n\n    val_features.append(x_out)\n    val_targets.append(y)\n\n    break\n\nval_features = torch.cat(val_features, dim=0)\nval_targets = torch.cat(val_targets, dim=0)\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"ec950503d0494a66b435854bdceb9056\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n:::\n\n\n---\n\n## Execute the feature extraction with the deep learning model {.scrollable}\n\n- [ ] And again for the testing set\n\n::: {#cf683275 .cell execution_count=38}\n``` {.python .cell-code}\ntst_features = []\ntst_targets = []\n\ntesting_dl = DataLoader(testing_ds, batch_size=batch_size, num_workers=2, worker_init_fn=dataset_worker_init_fn)\n\nfor i, (x, y, _) in tqdm(enumerate(testing_dl)):\n    b, c, h, w = x.shape\n    x_t = model_transforms(torch.tile(x.reshape(-1, 1, h, w), (1, 3, 1, 1)))\n\n    if torch.cuda.is_available():\n        x_t = x_t.cuda()\n    \n    with torch.no_grad():\n        x_out = model(x_t)\n        x_out = x_out.detach().reshape(-1, c, 576, 7, 7).sum(dim=1)\n        x_out = org_avgpool(x_out).detach().reshape(b, -1)\n\n    tst_features.append(x_out)\n    tst_targets.append(y)\n\n    break\n\ntst_features = torch.cat(tst_features, dim=0)\ntst_targets = torch.cat(tst_targets, dim=0)\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"a548203dfb2d495680fbdef26b0debf7\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nFailed retrieving: s3://cellpainting-gallery/cpg0016-jump/source_10/images/2021_06_28_U2OS_48_hr_run9/images/Dest210628-162003/Dest210628-162003_C17_T0001F008L01A01Z01C01.tif\nFailed retrieving: s3://cellpainting-gallery/cpg0016-jump/source_10/images/2021_06_28_U2OS_48_hr_run9/images/Dest210628-162003/Dest210628-162003_M16_T0001F007L01A01Z01C01.tif\n```\n:::\n:::\n\n\n# Train a perturbation classifier model\n\nWe'll take the pre-extracted features and train a perturbation classifier.\n\nThis approach will use a Multilayer Perceptron (**MLP**) model to classify the field-level profiles into three categories: *NONE/DMSO* = 0, *CRISPR* = 1, and *ORF* = 2.\n\nThe model will be fitted using *Adam* optimizer, which objective is to reduce the *Cross Entropy* loss between the predicted and the ground-truth category of each field.\n\n---\n\n## Load the pre-extracted features to train the classifier {.scrollable}\n\n- [ ] Define an `IterableDataset` to load the features from the `trn_feature_XXX.pt` files\n\n::: {#e21cab06 .cell execution_count=39}\n``` {.python .cell-code}\nclass GCPStorageDataset(IterableDataset):\n    \"\"\"This dataset loads the features from Cloud Storage\n    \"\"\"\n    def __init__(self, features_url, reducer=None, shuffle=False):\n        super(GCPStorageDataset).__init__()\n\n        self._features_url = features_url\n        self._features_dict = None\n        self._reducer = reducer\n\n        self._shuffle = shuffle\n\n        self._worker_sel = slice(0, len(self._features_url))\n        self._worker_id = 0\n        self._num_workers = 1\n\n    def __iter__(self):\n        # Select the barcodes that correspond to this worker\n        self._features_url = self._features_url[self._worker_sel]\n\n        if self._shuffle:\n            random.shuffle(self._features_url)\n\n        for url in self._features_url:\n            features_dict = torch.load(url)\n            \n            if self._reducer is not None:\n                embeddings = reducer.transform(features_dict[\"features\"])\n\n            curr_n_samples = len(features_dict[\"features\"])\n\n            for index in range(curr_n_samples):\n                if self._shuffle:\n                    index = random.randrange(curr_n_samples)\n\n                feats = features_dict[\"features\"][index]\n                target = features_dict[\"targets\"][index]\n\n                if self._reducer is not None:\n                    reduced_feats = embeddings[index]\n                else:\n                    reduced_feats = None\n\n                yield feats, target, reduced_feats\n```\n:::\n\n\n---\n\n## Inspect the distribution of the feature space\n\n- [ ] Fit a UMap to the training set of features to reduce the $576$ features into only $2$ dimensions for visualization\n\n::: {#399e35f6 .cell execution_count=40}\n``` {.python .cell-code}\nimport umap\n```\n:::\n\n\n::: {#414867b4 .cell execution_count=41}\n``` {.python .cell-code}\nreducer = umap.UMAP()\n```\n:::\n\n\n---\n\n## Inspect the distribution of the feature space\n\n- [ ] Load the training features and fit the UMap reducer\n\n::: {#efefa862 .cell execution_count=42}\n``` {.python .cell-code}\ntrn_features_ds = GCPStorageDataset([\"trn_features_002.pt\"], shuffle=False)\n\ntrn_features, trn_targets, _ = list(zip(*trn_features_ds))\n\ntrn_targets = torch.tensor(trn_targets)\n\nreducer.fit(trn_features)\n\ntrn_embeddings = reducer.transform(trn_features)\n```\n:::\n\n\n---\n\n## Inspect the distribution of the feature space {.scrollable}\n\n- [ ] Visualize the reduced feature space in two dimensions\n\n::: {#b6e7107e .cell execution_count=43}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\n\nclass_names = [\"NONE/DMSO\", \"CRISPR\", \"ORF\", \"COMPOUND\"]\nclass_markers = [\"*\", \"s\", \"o\", \"^\"]\nclass_colors = [\"black\", \"red\", \"blue\", \"green\"]\nclass_facecolors = [\"black\", \"none\", \"none\", \"none\"]\n\nfor class_idx, class_name in enumerate(class_names):\n    plt.scatter(trn_embeddings[trn_targets == class_idx, 0][::10], trn_embeddings[trn_targets == class_idx, 1][::10], label=class_names[class_idx], marker=class_markers[class_idx], facecolors=class_facecolors[class_idx], edgecolors=class_colors[class_idx])\n\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-44-output-1.png){width=789 height=411}\n:::\n:::\n\n\n---\n\n\n## Inspect the distribution of the feature space {.scrollable}\n\n- [ ] Confirm that the validation set is mapped to a similar space as the training set\n\n::: {#3a8d04e7 .cell execution_count=44}\n``` {.python .cell-code}\nval_features_ds = GCPStorageDataset([\"val_features.pt\"], shuffle=False)\n\nval_features, val_targets, _ = list(zip(*val_features_ds))\n\nval_targets = torch.tensor(val_targets)\n\nval_embedding = reducer.transform(val_features)\n\nval_embedding.shape\n\nfor class_idx, class_name in enumerate(class_names):\n    plt.scatter(val_embedding[val_targets == class_idx, 0][::10], val_embedding[val_targets == class_idx, 1][::10], label=class_names[class_idx], marker=class_markers[class_idx], facecolors=class_facecolors[class_idx], edgecolors=class_colors[class_idx])\n\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-45-output-1.png){width=789 height=411}\n:::\n:::\n\n\n---\n\n## Create a classifier with a Multilayer Perceptron (**MLP**) architecture {.scrollable}\n\nThe *MobileNet* model extracts $576$ features per image, these will be the input features for the *MLP* classifer.\n\n- [ ] Define a Multilayer Perceptron *MLP* classifier that takes the pre-extracted features and predicts the perturbation applied to that sample\n\n::: {#ddc6791c .cell execution_count=45}\n``` {.python .cell-code}\nclass PerturbationClassifier(torch.nn.Module):\n    def __init__(self, num_features, num_classes):\n        super(PerturbationClassifier, self).__init__()\n\n        self._reducer = torch.nn.Sequential(\n            torch.nn.BatchNorm1d(num_features=num_features),\n            torch.nn.Linear(in_features=num_features, out_features=2, bias=False),\n        )\n\n        self._classifier = torch.nn.Sequential(\n            torch.nn.Dropout(0.1),\n            torch.nn.ReLU(),\n            torch.nn.Linear(in_features=2, out_features=num_classes, bias=False)\n        )\n\n    def forward(self, input):\n        fx = self._reducer(input)\n        \n        y_pred = self._classifier(fx)\n\n        return y_pred, fx\n```\n:::\n\n\n---\n\n## Create a classifier with a Multilayer Perceptron (**MLP**) architecture {.scrollable}\n\n- [ ] Instantiate the classifier for the set of $576$ features and $3$ classes\n\n::: {#95d84c24 .cell execution_count=46}\n``` {.python .cell-code}\nclassifier = PerturbationClassifier(576, 3)\n```\n:::\n\n\n- [ ] (Optional) If a GPU is available, move the classifier model to it\n\n::: {#b0198d22 .cell execution_count=47}\n``` {.python .cell-code}\nif torch.cuda.is_available():\n    classifier.cuda()\n```\n:::\n\n\n---\n\n## Create a classifier with a Multilayer Perceptron (**MLP**) architecture {.scrollable} \n\n- [ ] Define the optimizer algorithm\n\n::: {#3e8b431d .cell execution_count=48}\n``` {.python .cell-code}\noptimizer = torch.optim.Adam([\n    {'params': classifier._reducer.parameters(), 'lr': 1e-5, 'weight_decay': 0.001},\n    {'params': classifier._classifier.parameters(), 'lr': 1e-4}\n])\n```\n:::\n\n\n- [ ] Define the loss function used to assess the classification performance of the model\n\n::: {#a3dab80d .cell execution_count=49}\n``` {.python .cell-code}\nclassifier_loss_fn = torch.nn.CrossEntropyLoss()\nreducer_loss_fn = torch.nn.MSELoss()\n```\n:::\n\n\n---\n\n## Train the *MLP* model {.scrollable}\n\n- [ ] Instantiate the datasets that will load the features from Cloud Storage\n\n::: {#109af252 .cell execution_count=50}\n``` {.python .cell-code}\ntrn_feat_ds = GCPStorageDataset([f\"trn_features_{i:03d}.pt\" for i in range(10)], reducer=reducer, shuffle=True)\nval_feat_ds = GCPStorageDataset([\"val_features.pt\"], reducer=reducer, shuffle=False)\ntst_feat_ds = GCPStorageDataset([\"tst_features.pt\"], reducer=reducer, shuffle=False)\n```\n:::\n\n\n- [ ] Create one `DataLoader` for the training set and one for the validation set of pre-extracted features\n\n::: {#c6ee56e2 .cell execution_count=51}\n``` {.python .cell-code}\ntrn_feat_dl = DataLoader(trn_feat_ds, batch_size=100, num_workers=2, worker_init_fn=dataset_worker_init_fn)\nval_feat_dl = DataLoader(val_feat_ds, batch_size=100)\ntst_feat_dl = DataLoader(tst_feat_ds, batch_size=100)\n```\n:::\n\n\n---\n\n## Train the *MLP* model {.scrollable}\n\n- [ ] Implement the training loop\n\n::: {#053df4c6 .cell execution_count=52}\n``` {.python .cell-code}\nfrom torchmetrics.classification import Accuracy\n\nn_dmso = 0\nn_crispr = 0\nn_orf = 0\n\n# Training loop\nclassifier.train()\n\ncls_loss_epoch = 0\nred_loss_epoch = 0\n\ntrn_acc_metric = Accuracy(task=\"multiclass\", num_classes=3)\n\nfor x, y, fx in tqdm(trn_feat_dl, total=1000):\n    optimizer.zero_grad()\n\n    if torch.cuda.is_available():\n        x = x.cuda()\n\n    y_pred, fx_pred = classifier(x)\n\n    cls_loss = classifier_loss_fn(y_pred.cpu(), y)\n    red_loss = reducer_loss_fn(fx_pred.cpu(), fx)\n\n    cls_loss.backward(retain_graph=True)\n    red_loss.backward()\n\n    optimizer.step()\n\n    cls_loss_epoch += cls_loss.item()\n    red_loss_epoch += red_loss.item()\n\n    trn_acc_metric(y_pred.cpu().softmax(dim=1), y)\n\n    n_dmso += sum(y == 0)\n    n_crispr += sum(y == 1)\n    n_orf += sum(y == 2)\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"ced82da163cc451a86315db121d9d9bd\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n:::\n\n\n---\n\n## Train the *MLP* model {.scrollable}\n\n- [ ] Compute the proportion of samples per category in the training set\n\n::: {#8048d05f .cell execution_count=53}\n``` {.python .cell-code}\nn_total = n_dmso + n_crispr + n_orf\nn_dmso / n_total, n_crispr / n_total, n_orf / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=53}\n```\n(tensor(0.0107), tensor(0.3617), tensor(0.6276))\n```\n:::\n:::\n\n\n- [ ] Check the average loss metric of the model on the training set\n\n::: {#00fdd4f8 .cell execution_count=54}\n``` {.python .cell-code}\ncls_loss_epoch / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=54}\n```\ntensor(0.0090)\n```\n:::\n:::\n\n\n::: {#357d1191 .cell execution_count=55}\n``` {.python .cell-code}\nred_loss_epoch / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=55}\n```\ntensor(0.8626)\n```\n:::\n:::\n\n\n- [ ] Compute the average accuracy of the model on the training set\n\n::: {#f9c3ed22 .cell execution_count=56}\n``` {.python .cell-code}\ntrn_acc_metric.compute()\n```\n\n::: {.cell-output .cell-output-display execution_count=56}\n```\ntensor(0.5685)\n```\n:::\n:::\n\n\n---\n\n## Train the *MLP* model {.scrollable}\n\n- [ ] Implement the validation loop\n\n::: {#96ccac58 .cell execution_count=57}\n``` {.python .cell-code}\nn_dmso = 0\nn_crispr = 0\nn_orf = 0\n\ncls_loss_epoch = 0\nred_loss_epoch = 0\n\nval_acc_metric = Accuracy(task=\"multiclass\", num_classes=3)\n\nfor x_val, y_val, fx_val in tqdm(val_feat_dl):\n    with torch.no_grad():\n        if torch.cuda.is_available():\n            x_val = x_val.cuda()\n\n        y_val_pred, fx_val_pred = classifier(x_val)\n\n        cls_loss = classifier_loss_fn(y_val_pred.cpu(), y_val)\n        red_loss = reducer_loss_fn(fx_val_pred.cpu(), fx_val)\n\n    cls_loss_epoch += cls_loss.item()\n    red_loss_epoch += red_loss.item()\n    \n    val_acc_metric(y_val_pred.cpu().softmax(dim=1), y_val)\n\n    n_dmso += sum(y_val == 0)\n    n_crispr += sum(y_val == 1)\n    n_orf += sum(y_val == 2)\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"8baf3a17f70d46088a9852c32d20b86f\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n:::\n\n\n---\n\n## Train the *MLP* model {.scrollable}\n\n- [ ] Compute the proportion of samples per category in the validation set\n\n::: {#5469e7e4 .cell execution_count=58}\n``` {.python .cell-code}\nn_total = n_dmso + n_crispr + n_orf\nn_dmso / n_total, n_crispr / n_total, n_orf / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=58}\n```\n(tensor(0.0182), tensor(0.3486), tensor(0.6332))\n```\n:::\n:::\n\n\n- [ ] Check the average loss metric of the model on the validation set\n\n::: {#a777ec5c .cell execution_count=59}\n``` {.python .cell-code}\ncls_loss_epoch / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=59}\n```\ntensor(0.0074)\n```\n:::\n:::\n\n\n::: {#beb61ccc .cell execution_count=60}\n``` {.python .cell-code}\nred_loss_epoch / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=60}\n```\ntensor(0.7850)\n```\n:::\n:::\n\n\n- [ ] Compute the average accuracy of the model on the validation set\n\n::: {#017c054d .cell execution_count=61}\n``` {.python .cell-code}\nval_acc_metric.compute()\n```\n\n::: {.cell-output .cell-output-display execution_count=61}\n```\ntensor(0.7378)\n```\n:::\n:::\n\n\n---\n\n## Wrap the training and validation steps for multiple epochs {.scrollable}\n\nTrack the performance of the model throughout the epochs during training\n\n- [ ] Copy the training and validation steps into an epochs loop\n\n::: {#25990d4d .cell execution_count=62}\n``` {.python .cell-code}\navg_cls_loss_trn = []\navg_red_loss_trn = []\navg_acc_trn = []\n\navg_cls_loss_val = []\navg_red_loss_val = []\navg_acc_val = []\n\nn_epochs = 20\nq = tqdm(total=n_epochs)\n\nfor e in range(n_epochs):\n    # Training loop\n    classifier.train()\n\n    loss_epoch = 0\n\n    trn_acc_metric.reset()\n    \n    total_samples = 0\n    for x, y, fx in trn_feat_dl:\n        optimizer.zero_grad()\n\n        if torch.cuda.is_available():\n            x = x.cuda()\n\n        y_pred, fx_pred = classifier(x)\n\n        cls_loss = classifier_loss_fn(y_pred.cpu(), y)\n        red_loss = reducer_loss_fn(fx_pred.cpu(), fx)\n\n        cls_loss.backward(retain_graph=True)\n        red_loss.backward()\n\n        optimizer.step()\n\n        cls_loss_epoch += cls_loss.item() * len(y)\n        red_loss_epoch += red_loss.item() * len(y)\n\n        trn_acc_metric(y_pred.cpu().softmax(dim=1), y)\n        total_samples += len(y)\n\n    avg_cls_loss_trn.append(cls_loss_epoch / total_samples)\n    avg_red_loss_trn.append(red_loss_epoch / total_samples)\n\n    avg_acc_trn.append(trn_acc_metric.compute())\n\n    # Validation loop\n    classifier.eval()\n\n    cls_loss_epoch = 0\n    red_loss_epoch = 0\n\n    val_acc_metric.reset()\n\n    total_samples = 0\n    for x_val, y_val, fx_val in val_feat_dl:\n        with torch.no_grad():\n            if torch.cuda.is_available():\n                x_val = x_val.cuda()\n\n            y_val_pred, fx_val_pred = classifier(x_val)\n\n            cls_loss = classifier_loss_fn(y_val_pred.cpu(), y_val)\n            red_loss = reducer_loss_fn(fx_val_pred.cpu(), fx_val)\n\n        cls_loss_epoch += cls_loss.item() * len(y_val)\n        red_loss_epoch += red_loss.item() * len(y_val)\n\n        val_acc_metric(y_val_pred.cpu().softmax(dim=1), y_val)\n        total_samples += len(y_val)\n\n    avg_cls_loss_val.append(cls_loss_epoch / total_samples)\n    avg_red_loss_val.append(red_loss_epoch / total_samples)\n\n    avg_acc_val.append(val_acc_metric.compute())\n\n    q.set_description(f\"Average training CE loss: {avg_cls_loss_trn[-1]:0.4f} / MSE loss: {avg_red_loss_trn[-1]:0.4f} (Accuracy: {100 * avg_acc_trn[-1]:0.2f} %). Average validation CE loss: {avg_cls_loss_val[-1]:04f} / MSE loss: {avg_red_loss_val[-1]:04f} (Accuracy: {100 * avg_acc_val[-1]:0.2f} %)\")\n    q.update()\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"a0c970d23b25472ea913cbcb63a2e0ef\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n:::\n\n\n---\n\n## Review the performance of the model throughout training {.scrollable}\n\n- [ ] Plot the loss function evaluation for the training and validation sets\n\n::: {#cf603c67 .cell execution_count=63}\n``` {.python .cell-code}\nplt.plot(avg_cls_loss_trn, \"k-\", label=\"Training loss\")\nplt.plot(avg_cls_loss_val, \"b:\", label=\"Validation loss\")\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-64-output-1.png){width=794 height=411}\n:::\n:::\n\n\n::: {#b7f9c7fb .cell execution_count=64}\n``` {.python .cell-code}\nplt.plot(avg_red_loss_trn, \"k-\", label=\"Training loss\")\nplt.plot(avg_red_loss_val, \"b:\", label=\"Validation loss\")\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-65-output-1.png){width=789 height=411}\n:::\n:::\n\n\n---\n\n## Review the performance of the model throughout training {.scrollable}\n\n- [ ] Plot the accuracy of the model on the training and validation sets\n\n::: {#3e5d5708 .cell execution_count=65}\n``` {.python .cell-code}\nplt.plot(avg_acc_trn, \"k-\", label=\"Training accuracy\")\nplt.plot(avg_acc_val, \"b:\", label=\"Validation accuracy\")\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-66-output-1.png){width=802 height=411}\n:::\n:::\n\n\n# Evaluate the model with the witheld testing data\n\n## Save the classifier model to be used later or shared with collaborators {.scrollable}\n\n- [ ] Evaluate the classifier on the testing set to measure its generalization capacity\n\n::: {#0ac523d8 .cell execution_count=66}\n``` {.python .cell-code}\nfrom torchmetrics.classification import ConfusionMatrix\n\nclassifier.eval()\n\nn_dmso = 0\nn_crispr = 0\nn_orf = 0\n\ncls_loss_epoch = 0\nred_loss_epoch = 0\n\ntst_acc_metric = Accuracy(\"multiclass\", num_classes=3)\ntst_confmat = ConfusionMatrix(\"multiclass\", num_classes=3)\n\nfor x_tst, y_tst, fx_tst in tst_feat_dl:\n    with torch.no_grad():\n        if torch.cuda.is_available():\n            x_tst = x_tst.cuda()\n\n        y_tst_pred, fx_tst_pred = classifier(x_tst)\n        cls_loss = classifier_loss_fn(y_tst_pred.cpu(), y_tst)\n        red_loss = reducer_loss_fn(fx_tst_pred.cpu(), fx_tst)\n\n    cls_loss_epoch += cls_loss.item() * len(y_tst)\n    red_loss_epoch += red_loss.item() * len(y_tst)\n    \n    y_tst_prob = y_tst_pred.cpu().softmax(dim=1)\n    tst_acc_metric.update(y_tst_prob, y_tst)\n    tst_confmat.update(y_tst_prob, y_tst)\n\n    n_dmso += sum(y_tst == 0)\n    n_crispr += sum(y_tst == 1)\n    n_orf += sum(y_tst == 2)\n```\n:::\n\n\n---\n\n## Save the classifier model to be used later or shared with collaborators {.scrollable}\n\n- [ ] Check the proportion of types of perturbation in the testing set\n\n::: {#1b779271 .cell execution_count=67}\n``` {.python .cell-code}\nn_total = n_dmso + n_crispr + n_orf\nn_dmso / n_total, n_crispr / n_total, n_orf / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=67}\n```\n(tensor(0.0240), tensor(0.2986), tensor(0.6774))\n```\n:::\n:::\n\n\n- [ ] Check the loss metrics on the testing set\n\n::: {#01adee14 .cell execution_count=68}\n``` {.python .cell-code}\ncls_loss_epoch / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=68}\n```\ntensor(0.1779)\n```\n:::\n:::\n\n\n::: {#2f978740 .cell execution_count=69}\n``` {.python .cell-code}\nred_loss_epoch / n_total\n```\n\n::: {.cell-output .cell-output-display execution_count=69}\n```\ntensor(2.5287)\n```\n:::\n:::\n\n\n---\n\n## Save the classifier model to be used later or shared with collaborators {.scrollable}\n\n- [ ] Check the accuracy metrics on the testing set\n\n::: {#7d0673a8 .cell execution_count=70}\n``` {.python .cell-code}\ntst_acc_metric.compute()\ntst_confmat.compute()\ntst_confmat.plot()\n```\n\n::: {.cell-output .cell-output-display execution_count=70}\n```\n(<Figure size 640x480 with 1 Axes>,\n <Axes: xlabel='Predicted class', ylabel='True class'>)\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-71-output-2.png){width=489 height=491}\n:::\n:::\n\n\n---\n\n## Evaluate the capacity to mimic the UMap dimensionality reduction {.scrollable}\n\n- [ ] Get the embeddings from the trained model for the training set\n\n::: {#2fff73ff .cell execution_count=71}\n``` {.python .cell-code}\ntrn_fx = []\ntrn_fx_pred = []\ntrn_y = []\n\nfor i, (x, y, fx) in enumerate(trn_feat_dl):\n    if i >= 10:\n        break\n\n    with torch.no_grad():\n        if torch.cuda.is_available():\n            x = x.cuda()\n\n        _, fx_pred = classifier(x)\n        trn_fx_pred.append(fx_pred.detach().cpu())\n        trn_fx.append(fx)\n        trn_y.append(y)\n\ntrn_fx = torch.cat(trn_fx, dim=0)\ntrn_fx_pred = torch.cat(trn_fx_pred, dim=0)\ntrn_y = torch.cat(trn_y, dim=0)\n```\n:::\n\n\n---\n\n## Evaluate the capacity to mimic the UMap dimensionality reduction {.scrollable}\n\n- [ ] Compate the embedding spaces (UMap vs learned) with the training set\n\n::: {#7c142461 .cell execution_count=72}\n``` {.python .cell-code}\nfor class_idx, class_name in enumerate(class_names):\n    plt.scatter(trn_fx[trn_y == class_idx, 0], trn_fx[trn_y == class_idx, 1], label=class_names[class_idx], marker=class_markers[class_idx], facecolors=class_facecolors[class_idx], edgecolors=class_colors[class_idx])\n\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-73-output-1.png){width=789 height=411}\n:::\n:::\n\n\n::: {#cf6b99d3 .cell execution_count=73}\n``` {.python .cell-code}\nfor class_idx, class_name in enumerate(class_names):\n    plt.scatter(trn_fx_pred[trn_y == class_idx, 0], trn_fx_pred[trn_y == class_idx, 1], label=class_names[class_idx], marker=class_markers[class_idx], facecolors=class_facecolors[class_idx], edgecolors=class_colors[class_idx])\n\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-74-output-1.png){width=805 height=415}\n:::\n:::\n\n\n---\n\n## Evaluate the capacity to mimic the UMap dimensionality reduction {.scrollable}\n\n- [ ] Get the embeddings from the trained model for the validation set\n\n::: {#8f217298 .cell execution_count=74}\n``` {.python .cell-code}\nval_fx = []\nval_fx_pred = []\nval_y = []\n\nfor i, (x_val, y_val, fx_val) in enumerate(val_feat_dl):\n    if i >= 10:\n        break\n\n    with torch.no_grad():\n        if torch.cuda.is_available():\n            x_val = x_val.cuda()\n\n        _, fx_pred_val = classifier(x_val)\n        val_fx_pred.append(fx_pred_val.detach().cpu())\n        val_fx.append(fx_val)\n        val_y.append(y_val)\n\nval_fx = torch.cat(val_fx, dim=0)\nval_fx_pred = torch.cat(val_fx_pred, dim=0)\nval_y = torch.cat(val_y, dim=0)\n```\n:::\n\n\n---\n\n## Evaluate the capacity to mimic the UMap dimensionality reduction {.scrollable}\n\n- [ ] Compate the embedding spaces (UMap vs learned) with the validation set\n\n::: {#02c8dade .cell execution_count=75}\n``` {.python .cell-code}\nfor class_idx, class_name in enumerate(class_names):\n    plt.scatter(val_fx[val_y == class_idx, 0], val_fx[val_y == class_idx, 1], label=class_names[class_idx], marker=class_markers[class_idx], facecolors=class_facecolors[class_idx], edgecolors=class_colors[class_idx])\n\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-76-output-1.png){width=789 height=411}\n:::\n:::\n\n\n::: {#f748c62d .cell execution_count=76}\n``` {.python .cell-code}\nfor class_idx, class_name in enumerate(class_names):\n    plt.scatter(val_fx_pred[val_y == class_idx, 0], val_fx_pred[val_y == class_idx, 1], label=class_names[class_idx], marker=class_markers[class_idx], facecolors=class_facecolors[class_idx], edgecolors=class_colors[class_idx])\n\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-77-output-1.png){width=789 height=411}\n:::\n:::\n\n\n# Use the pre-trained model to identify the behavior of compounds\n\nBecause the model has learned to recognize *CRISPR*, *ORF*, and *NONE/DMSO* effects, it can be used to determine the behavior of any treatment based on their morphological profile.\n\nTo do so, first extract the the morphological features using the pre-trained *MobileNet*, and then use the extracted features as input for the classifier model.\n\n---\n\n##  Execute the feature extraction and classification pipeline for *compound* data {.scrollable}\n\n::: {#4100a7b2 .cell execution_count=77}\n``` {.python .cell-code}\ncompounds_ds = TiffS3Dataset(comp_plate_maps, wells_metadata, comp_plate_maps[\"Plate_name\"].tolist(), 16, 24, 9, 5, shuffle=True)\n\nbatch_size = 5\n\ncompounds_dl = DataLoader(compounds_ds, batch_size=batch_size, num_workers=2, worker_init_fn=dataset_worker_init_fn)\n\nmetadata_list = []\nfor i, (x, y, metadata) in tqdm(enumerate(compounds_dl)):\n    metadata_list.append(metadata)\n\n    b, c, h, w = x.shape\n    x_t = model_transforms(torch.tile(x.reshape(-1, 1, h, w), (1, 3, 1, 1)))\n\n    if torch.cuda.is_available():\n        x_t = x_t.cuda()\n\n    with torch.no_grad():\n        x_out = model(x_t)\n        x_out = x_out.detach().reshape(-1, c, 576, 7, 7).sum(dim=1)\n        x_out = org_avgpool(x_out).detach().reshape(b, -1)\n\n        y_pred, fx_pred = classifier(x_out)\n\n    break\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"7fc648107a9241199dc4b20c43de6fa5\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n:::\n:::\n\n\n---\n\n##  Execute the feature extraction and classification pipeline for *compound* data {.scrollable}\n\n- [ ] Plot the embeddings of the compound samples\n\n::: {#dce1a5b4 .cell execution_count=78}\n``` {.python .cell-code}\nfor class_idx, class_name in enumerate(class_names[:3]):\n    plt.scatter(trn_fx_pred[trn_y == class_idx, 0][::10], trn_fx_pred[trn_y == class_idx, 1][::10], label=class_names[class_idx], marker=class_markers[class_idx], facecolors=class_facecolors[class_idx], edgecolors=class_colors[class_idx])\n\nplt.scatter(fx_pred.cpu()[:, 0], fx_pred.cpu()[:, 1], label=class_names[3], marker=class_markers[3], facecolors=class_facecolors[3], edgecolors=class_colors[3])\n\nplt.legend()\n```\n\n::: {.cell-output .cell-output-display}\n![](DL_image_analysis_2_files/figure-revealjs/cell-79-output-1.png){width=789 height=411}\n:::\n:::\n\n\n---\n\n##  Execute the feature extraction and classification pipeline for *compound* data {.scrollable}\n\n- [ ] Look for any interesting compounds in [PubChem](https://pubchem.ncbi.nlm.nih.gov/)\n\n::: {#32bbd383 .cell execution_count=79}\n``` {.python .cell-code}\nmetadata\n```\n\n::: {.cell-output .cell-output-display execution_count=79}\n```\n{'Plate_name': ['Dest210727-153623',\n  'PEP00004070',\n  '110000294885',\n  'P09_APTJUM419',\n  '1086290323'],\n 'Source_name': ['source_10', 'source_15', 'source_6', 'source_5', 'source_2'],\n 'Batch_name': ['2021_08_09_U2OS_48_hr_run13',\n  '2021_12_17_Batch1',\n  'p210906CPU2OS48hw384exp025JUMP',\n  'JUMPCPE-20210902-Run26_20210903_010341',\n  '20210920_Batch_12'],\n 'Plate_type': ['COMPOUND', 'COMPOUND', 'COMPOUND', 'COMPOUND', 'COMPOUND'],\n 'Plate_path': ['Dest210727-153623',\n  'PEP00004070__2021-12-14T07_25_04-Measurement2',\n  '110000294885',\n  'P09_APTJUM419',\n  '1086290323'],\n 'Well_position': ['M17', 'I02', 'P11', 'B16', 'A04']}\n```\n:::\n:::\n\n\n::: {#edbf3bbe .cell execution_count=80}\n``` {.python .cell-code}\ny_pred.argmax(dim=1)\n```\n\n::: {.cell-output .cell-output-display execution_count=80}\n```\ntensor([2, 1, 1, 1, 2], device='cuda:0')\n```\n:::\n:::\n\n\n::: {#a5449435 .cell execution_count=81}\n``` {.python .cell-code}\nwells_metadata.query(\"well_position == 'H13' & Plate_type=='COMPOUND'\")\n```\n\n::: {.cell-output .cell-output-display execution_count=81}\n```{=html}\n\n  <div id=\"df-dc11e622-f20b-4dd4-8d0d-6876f7f3ac3b\" class=\"colab-df-container\">\n    <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>well_position</th>\n      <th>broad_sample</th>\n      <th>solvent</th>\n      <th>Plate_type</th>\n      <th>Plate_label</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>180</th>\n      <td>H13</td>\n      <td>NaN</td>\n      <td>DMSO</td>\n      <td>COMPOUND</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n    <div class=\"colab-df-buttons\">\n      \n  <div class=\"colab-df-container\">\n    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-dc11e622-f20b-4dd4-8d0d-6876f7f3ac3b')\"\n            title=\"Convert this dataframe to an interactive table.\"\n            style=\"display:none;\">\n      \n  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n  </svg>\n    </button>\n    \n  <style>\n    .colab-df-container {\n      display:flex;\n      gap: 12px;\n    }\n\n    .colab-df-convert {\n      background-color: #E8F0FE;\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: none;\n      fill: #1967D2;\n      height: 32px;\n      padding: 0 0 0 0;\n      width: 32px;\n    }\n\n    .colab-df-convert:hover {\n      background-color: #E2EBFA;\n      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n      fill: #174EA6;\n    }\n\n    .colab-df-buttons div {\n      margin-bottom: 4px;\n    }\n\n    [theme=dark] .colab-df-convert {\n      background-color: #3B4455;\n      fill: #D2E3FC;\n    }\n\n    [theme=dark] .colab-df-convert:hover {\n      background-color: #434B5C;\n      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n      fill: #FFFFFF;\n    }\n  </style>\n\n    <script>\n      const buttonEl =\n        document.querySelector('#df-dc11e622-f20b-4dd4-8d0d-6876f7f3ac3b button.colab-df-convert');\n      buttonEl.style.display =\n        google.colab.kernel.accessAllowed ? 'block' : 'none';\n\n      async function convertToInteractive(key) {\n        const element = document.querySelector('#df-dc11e622-f20b-4dd4-8d0d-6876f7f3ac3b');\n        const dataTable =\n          await google.colab.kernel.invokeFunction('convertToInteractive',\n                                                    [key], {});\n        if (!dataTable) return;\n\n        const docLinkHtml = 'Like what you see? Visit the ' +\n          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n          + ' to learn more about interactive tables.';\n        element.innerHTML = '';\n        dataTable['output_type'] = 'display_data';\n        await google.colab.output.renderOutput(dataTable, element);\n        const docLink = document.createElement('div');\n        docLink.innerHTML = docLinkHtml;\n        element.appendChild(docLink);\n      }\n    </script>\n  </div>\n  \n    </div>\n  </div>\n  \n```\n:::\n:::\n\n\n",
    "supporting": [
      "DL_image_analysis_2_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n<script src=\"https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js\" crossorigin=\"anonymous\"></script>\n"
      ],
      "include-after-body": [
        "<script type=application/vnd.jupyter.widget-state+json>\n{\"state\":{\"00f2631e8e1e4ac9ad6bbedfcfeae912\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"03aa4ad2e092498294378289e13e16eb\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"15dd0a4cf02d46b2b2af028f5c480d1e\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"danger\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_38287aae64af4c8f8a0f048994c0d3e0\",\"max\":1,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_fd2a227b73f74cad91062ac1ba7d8385\",\"value\":0}},\"1ee80fb4ec2b47469e664f102a06f67d\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"27f686ab5d2a46d69c508a25ef056ebb\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_f62ff85ae07f4c7689a9d5f69e03c94c\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_7aa516bd27fb4e58bc8c4fa5b14f117f\",\"value\":\"\"}},\"2857f8cf03024f1ca602111380795102\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":\"20px\"}},\"2aa77c0c8615465f97211a7bee7340a5\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_03aa4ad2e092498294378289e13e16eb\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_707651e3cff144819a7dba3aec7d6a78\",\"value\":\"\"}},\"2aada74911994c48bf6c294cb878c41a\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_eb13f26793c5444c852c05d1c399b07e\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_fff547895ad044bf9f85714eb60eba2a\",\"value\":\"AveragetrainingCEloss:0.2933/MSEloss:2.2314(Accuracy:88.47%).AveragevalidationCEloss:0.167311/MSEloss:2.018440(Accuracy:97.52%):100%\"}},\"2cc202ee10ca4d1c94fc73bb8d97e6e3\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_ae07ec0d12bc445d80c4d11dedb6ce33\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_ed66a64c8c914b8ea0299bbbaf0b7c34\",\"value\":\"\"}},\"3006009bd09c48aeac5df860e318f532\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":\"20px\"}},\"310373bfdbcc4532988ba9fe1de13673\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"38287aae64af4c8f8a0f048994c0d3e0\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":\"20px\"}},\"39d4d33ae8504942834ce52115ef9288\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"3c04ce6140cf461d981ff35a0c15c10d\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"3c5d781ddcf546c1ae5d93436cc41fb9\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"418b7711bb824fbc95edc8e89eddc7fe\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"425b3a37bcb04d5daffa8a8ffbf7da18\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_310373bfdbcc4532988ba9fe1de13673\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_6e3a1b402197488790839760d24e668a\",\"value\":\"0/?[00:11&lt;?,?it/s]\"}},\"42d38c0df4e14dcd9ae02c7a414d0cf9\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"479d0a84a8af4f37bf1c07ca36532238\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"484a4637bc704df6847d71f4776810f8\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_a1d30a5ad64c45708a90e4bd93bbab75\",\"IPY_MODEL_bc89b106956d412790cb01861982c08e\",\"IPY_MODEL_a2aa7fd8de89417a962d0918fe5b1639\"],\"layout\":\"IPY_MODEL_c3cfb2d175364032b76d22d47f7ff209\"}},\"4aa8270448dc4f79a86457e3a6e86549\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"56b1ce94b5704fe6914b3ef7ba549d91\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"danger\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_3006009bd09c48aeac5df860e318f532\",\"max\":1,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_8f57d1ca9de645a29d2eb72c23564c57\",\"value\":0}},\"5cea059d4079400f8cd1102b56a94470\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"64e86a9732a642e481aa5cb1c4ef6315\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":\"20px\"}},\"67ba215e21a34573968a95a0f18c8d26\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"success\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_ffef508878174f4eabcf27a1b641cc96\",\"max\":1,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_00f2631e8e1e4ac9ad6bbedfcfeae912\",\"value\":1}},\"6db222231561430e915d1ad9ebbf2611\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"6e3a1b402197488790839760d24e668a\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"707651e3cff144819a7dba3aec7d6a78\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"72dbb6eac51e47b49d7507a5960cae50\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"75173e976429477a963b6beda40c5bd0\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"7aa516bd27fb4e58bc8c4fa5b14f117f\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"7f3e03b7f7dc40cabff1e2d95c555ea6\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"7fc648107a9241199dc4b20c43de6fa5\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_2aa77c0c8615465f97211a7bee7340a5\",\"IPY_MODEL_c8610cb529124c90b768708245f644d4\",\"IPY_MODEL_84e95266b70141209306026559779a28\"],\"layout\":\"IPY_MODEL_418b7711bb824fbc95edc8e89eddc7fe\"}},\"84e95266b70141209306026559779a28\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_f3b81522a4ba4fa4a9d45ebe4f9b4ae9\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_9ef777e29ae74a24a05a95e57cd030b7\",\"value\":\"0/?[00:05&lt;?,?it/s]\"}},\"86bb6c010d4d43efa7655e8c3bc6b635\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_dfe98b1dd94a43d18152950b2968a93b\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_a2f988dbd17f4d86a46be95901b329c9\",\"value\":\"0/?[00:11&lt;?,?it/s]\"}},\"8baf3a17f70d46088a9852c32d20b86f\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_f79fbbed24c54c8eb5f68ac356523372\",\"IPY_MODEL_67ba215e21a34573968a95a0f18c8d26\",\"IPY_MODEL_da2d6cb758fd4db184659028b627e159\"],\"layout\":\"IPY_MODEL_5cea059d4079400f8cd1102b56a94470\"}},\"8c4d6f9530904d18beb0c350ae4232b8\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"8e6ea7413f844b23bbf32ca41987608b\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"8f57d1ca9de645a29d2eb72c23564c57\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"9456a7c38b1b46a4893ebad187639aee\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"9ef777e29ae74a24a05a95e57cd030b7\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"9fa97a9ef4bd415da7cbe7dcabe9500d\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"success\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_e8fc06183e534c7692fe79d0ef3bb184\",\"max\":1000,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_4aa8270448dc4f79a86457e3a6e86549\",\"value\":1000}},\"a0c970d23b25472ea913cbcb63a2e0ef\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_2aada74911994c48bf6c294cb878c41a\",\"IPY_MODEL_f8202fbbdef14c7a8def6486c6177ad0\",\"IPY_MODEL_ecd159f611ec4b30bb22cd876d97c674\"],\"layout\":\"IPY_MODEL_479d0a84a8af4f37bf1c07ca36532238\"}},\"a1d30a5ad64c45708a90e4bd93bbab75\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_42d38c0df4e14dcd9ae02c7a414d0cf9\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_7f3e03b7f7dc40cabff1e2d95c555ea6\",\"value\":\"\"}},\"a2aa7fd8de89417a962d0918fe5b1639\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_f1a307cb2b244798be9ba8e3d42450be\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_fe408b167dd046b2b0abbf9ce0942297\",\"value\":\"0/?[00:11&lt;?,?it/s]\"}},\"a2f988dbd17f4d86a46be95901b329c9\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"a37860b7a6224ca597ec1d4089b962df\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_75173e976429477a963b6beda40c5bd0\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_1ee80fb4ec2b47469e664f102a06f67d\",\"value\":\"100%\"}},\"a468cbb7627245bc89d8f245fd977083\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"a548203dfb2d495680fbdef26b0debf7\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_27f686ab5d2a46d69c508a25ef056ebb\",\"IPY_MODEL_15dd0a4cf02d46b2b2af028f5c480d1e\",\"IPY_MODEL_425b3a37bcb04d5daffa8a8ffbf7da18\"],\"layout\":\"IPY_MODEL_72dbb6eac51e47b49d7507a5960cae50\"}},\"ae07ec0d12bc445d80c4d11dedb6ce33\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"bc89b106956d412790cb01861982c08e\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"danger\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_2857f8cf03024f1ca602111380795102\",\"max\":1,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_d270cbed75f84e5187f8e9f43a7a8385\",\"value\":0}},\"c34a7f34c29f4c44ac5ab31b08362ec9\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"c3cfb2d175364032b76d22d47f7ff209\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"c8610cb529124c90b768708245f644d4\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"danger\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_64e86a9732a642e481aa5cb1c4ef6315\",\"max\":1,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_6db222231561430e915d1ad9ebbf2611\",\"value\":0}},\"caf030333e4b4b7b91a5a2b076214964\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"ced82da163cc451a86315db121d9d9bd\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_a37860b7a6224ca597ec1d4089b962df\",\"IPY_MODEL_9fa97a9ef4bd415da7cbe7dcabe9500d\",\"IPY_MODEL_e56c375fda4a49bc91f14d72cda72c38\"],\"layout\":\"IPY_MODEL_9456a7c38b1b46a4893ebad187639aee\"}},\"d270cbed75f84e5187f8e9f43a7a8385\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"da2d6cb758fd4db184659028b627e159\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_e79ea2875c814db986543669e0378182\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_ded639ff38ee41a4be8604e93a8b66e2\",\"value\":\"50/?[00:00&lt;00:00,50.54it/s]\"}},\"ded639ff38ee41a4be8604e93a8b66e2\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"dfe98b1dd94a43d18152950b2968a93b\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"e1c97e8deab9499ba5820883d20e3f02\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"e56c375fda4a49bc91f14d72cda72c38\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_39d4d33ae8504942834ce52115ef9288\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_a468cbb7627245bc89d8f245fd977083\",\"value\":\"1000/1000[00:15&lt;00:00,146.27it/s]\"}},\"e79ea2875c814db986543669e0378182\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"e8fc06183e534c7692fe79d0ef3bb184\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"eb13f26793c5444c852c05d1c399b07e\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"ec950503d0494a66b435854bdceb9056\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HBoxModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HBoxModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HBoxView\",\"box_style\":\"\",\"children\":[\"IPY_MODEL_2cc202ee10ca4d1c94fc73bb8d97e6e3\",\"IPY_MODEL_56b1ce94b5704fe6914b3ef7ba549d91\",\"IPY_MODEL_86bb6c010d4d43efa7655e8c3bc6b635\"],\"layout\":\"IPY_MODEL_e1c97e8deab9499ba5820883d20e3f02\"}},\"ecd159f611ec4b30bb22cd876d97c674\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_c34a7f34c29f4c44ac5ab31b08362ec9\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_3c5d781ddcf546c1ae5d93436cc41fb9\",\"value\":\"20/20[04:40&lt;00:00,13.98s/it]\"}},\"ed66a64c8c914b8ea0299bbbaf0b7c34\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"f1a307cb2b244798be9ba8e3d42450be\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"f3b81522a4ba4fa4a9d45ebe4f9b4ae9\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"f62ff85ae07f4c7689a9d5f69e03c94c\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"f79fbbed24c54c8eb5f68ac356523372\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"HTMLModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"HTMLModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"HTMLView\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_8e6ea7413f844b23bbf32ca41987608b\",\"placeholder\":\"\",\"style\":\"IPY_MODEL_caf030333e4b4b7b91a5a2b076214964\",\"value\":\"\"}},\"f8202fbbdef14c7a8def6486c6177ad0\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"FloatProgressModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"FloatProgressModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/controls\",\"_view_module_version\":\"1.5.0\",\"_view_name\":\"ProgressView\",\"bar_style\":\"\",\"description\":\"\",\"description_tooltip\":null,\"layout\":\"IPY_MODEL_8c4d6f9530904d18beb0c350ae4232b8\",\"max\":20,\"min\":0,\"orientation\":\"horizontal\",\"style\":\"IPY_MODEL_3c04ce6140cf461d981ff35a0c15c10d\",\"value\":20}},\"fd2a227b73f74cad91062ac1ba7d8385\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"ProgressStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"ProgressStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"bar_color\":null,\"description_width\":\"\"}},\"fe408b167dd046b2b0abbf9ce0942297\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}},\"ffef508878174f4eabcf27a1b641cc96\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":\"20px\"}},\"fff547895ad044bf9f85714eb60eba2a\":{\"model_module\":\"@jupyter-widgets/controls\",\"model_module_version\":\"1.5.0\",\"model_name\":\"DescriptionStyleModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/controls\",\"_model_module_version\":\"1.5.0\",\"_model_name\":\"DescriptionStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"description_width\":\"\"}}},\"version_major\":2,\"version_minor\":0}\n</script>\n"
      ]
    }
  }
}